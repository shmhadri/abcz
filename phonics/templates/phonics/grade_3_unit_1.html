<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 3 - Unit 1: Fun on the Weekend! ğŸ‰</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons & Animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #f72585;
            --accent: #ffd166;
            --success: #06d6a0;
            --danger: #ef476f;
            --purple: #7209b7;
            --orange: #ff6b35;
            --skyblue: #4cc9f0;
            --green: #06d6a0;
            --dark: #2b2d42;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(135deg, #e0f7fa 0%, #fff9c4 50%, #f8bbd0 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Header Styles */
        .main-header {
            background: linear-gradient(135deg, var(--primary), var(--purple));
            color: white;
            padding: 40px 30px;
            border-radius: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
        }

        .main-header::before {
            content: 'ğŸ‰';
            position: absolute;
            top: 20px;
            left: 30px;
            font-size: 4rem;
            animation: bounce 2s infinite;
        }

        .main-header::after {
            content: 'âœ¨';
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 4rem;
            animation: bounce 2s infinite 0.5s;
        }

        .main-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .main-subtitle {
            font-size: 1.8rem;
            font-weight: 500;
            opacity: 0.95;
        }

        .arabic-title {
            font-family: 'Tajawal', sans-serif;
            font-size: 1.6rem;
            font-weight: 700;
            margin-top: 10px;
        }

        /* Navigation Tabs */
        .lesson-tabs {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
        }

        .lesson-tab {
            background: white;
            border: none;
            padding: 20px 35px;
            border-radius: 25px;
            font-size: 1.4rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
            font-family: 'Fredoka', sans-serif;
        }

        .lesson-tab:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.2);
        }

        .lesson-tab.active {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white;
            transform: translateY(-5px) scale(1.05);
        }

        .lesson-tab.lesson1 { border-left: 8px solid var(--green); }
        .lesson-tab.lesson2 { border-left: 8px solid var(--orange); }
        .lesson-tab.lesson3 { border-left: 8px solid var(--purple); }
        .lesson-tab.lesson4 { border-left: 8px solid var(--secondary); }

        /* Content Container */
        .lesson-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .lesson-content.active {
            display: block;
        }

        /* Kid-friendly Card */
        .kid-card {
            background: white;
            border-radius: 30px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 4px solid transparent;
            transition: all 0.3s;
        }

        .kid-card:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
        }

        /* Section Header */
        .section-header {
            background: linear-gradient(135deg, var(--green), var(--skyblue));
            color: white;
            padding: 25px;
            border-radius: 25px;
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        /* Sentence Card */
        .sentence-card {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 20px;
            border-left: 6px solid var(--primary);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
        }

        .sentence-card:hover {
            transform: translateX(10px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .sentence-number {
            background: var(--primary);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            font-weight: 700;
            margin-right: 15px;
        }

        .sentence-text {
            font-size: 1.6rem;
            color: var(--dark);
            margin-bottom: 10px;
            line-height: 1.8;
        }

        .sentence-text .verb {
            color: var(--secondary);
            font-weight: 700;
            background: linear-gradient(135deg, #ffe0ed, #ffc0e0);
            padding: 3px 10px;
            border-radius: 10px;
        }

        .sentence-arabic {
            font-family: 'Tajawal', sans-serif;
            font-size: 1.4rem;
            color: #000;
            font-weight: 700;
            margin-bottom: 15px;
            padding-right: 20px;
            border-right: 4px solid var(--accent);
        }

        /* Big Buttons for Kids */
        .btn-audio, .btn-mic {
            border: none;
            padding: 15px 30px;
            border-radius: 20px;
            font-size: 1.8rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            margin: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-audio {
            background: linear-gradient(135deg, var(--green), #00b894);
            color: white;
        }

        .btn-mic {
            background: linear-gradient(135deg, var(--secondary), #d63384);
            color: white;
        }

        .btn-audio:hover, .btn-mic:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

.btn-audio:active, .btn-mic:active {
            transform: scale(0.95);
        }

        /* Picture Cards */
        .pictures-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .picture-card {
            background: white;
            border-radius: 25px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border: 4px solid transparent;
        }

        .picture-card:hover {
            transform: translateY(-10px) rotate(2deg);
            border-color: var(--accent);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .picture-card.matched {
            border-color: var(--success);
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
        }

        .picture-number {
            background: var(--secondary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .picture-emoji {
            font-size: 5rem;
            margin: 15px 0;
        }

        .picture-text {
            font-size: 1.3rem;
            color: var(--dark);
            font-weight: 600;
        }

        /* Comments Section */
        .comments-practice {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            padding: 35px;
            border-radius: 30px;
            margin-top: 30px;
        }

        .comment-option {
            background: white;
            padding: 20px 30px;
            border-radius: 20px;
            margin: 15px 0;
            font-size: 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .comment-option:hover {
            transform: scale(1.05);
            border-color: var(--primary);
        }

        .comment-option.selected {
            background: linear-gradient(135deg, var(--success), #00b894);
            color: white;
            border-color: var(--success);
        }

        .comment-emoji {
            font-size: 2.5rem;
        }

        /* Celebration Overlay */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .celebration.show {
            display: flex;
        }

        .celebration-content {
            background: white;
            padding: 50px;
            border-radius: 40px;
            text-align: center;
            animation: bounceIn 0.8s;
        }

        .celebration-emoji {
            font-size: 8rem;
            animation: bounce 1s infinite;
        }

        .celebration-text {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
            margin: 20px 0;
        }

        .celebration-arabic {
            font-family: 'Tajawal', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--secondary);
        }

        /* Animations */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Balloons & Celebration Extras */
        .balloon {
            position: fixed;
            bottom: -100px;
            width: 50px;
            height: 70px;
            background: red;
            border-radius: 50%;
            opacity: 0.9;
            z-index: 20000;
            animation: floatUp 4s ease-in infinite;
            box-shadow: inset -5px -5px 10px rgba(0,0,0,0.2);
        }

        .balloon::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 100px;
            background: rgba(255,255,255,0.5);
        }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.9; }
            100% { transform: translateY(-120vh) rotate(20deg); opacity: 0; }
        }

        .option-ar {
            display: block;
            font-family: 'Tajawal';
            font-size: 1.1rem;
            color: #666;
            margin-top: 4px;
        }

        /* ===== TEST SYSTEM STYLES ===== */
        
        .test-buttons-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .btn-test {
            background: linear-gradient(135deg, var(--purple), var(--primary));
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 25px;
            font-size: 1.6rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            transition: all 0.3s;
            font-family: 'Fredoka', sans-serif;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-test:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
        }

        .btn-test:active {
            transform: translateY(-2px) scale(1.02);
        }

        .btn-test.pre-test {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
        }

        .btn-test.post-test {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }

        .test-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
            overflow-y: auto;
        }

        .test-modal.show {
            display: flex;
        }

        .test-container {
            background: white;
            border-radius: 30px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: bounceIn 0.6s;
        }

        .test-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 4px solid var(--accent);
        }

        .test-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .test-subtitle {
            font-family: 'Tajawal', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary);
        }

        .test-progress {
            background: #e0e0e0;
            height: 12px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .test-progress-bar {
            background: linear-gradient(90deg, var(--success), var(--skyblue));
            height: 100%;
            transition: width 0.5s;
            border-radius: 10px;
        }

        .test-question {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 30px;
            border-radius: 25px;
            margin-bottom: 25px;
            border-left: 6px solid var(--primary);
        }

        .question-number {
            background: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .question-arabic {
            font-family: 'Tajawal', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: #666;
            margin-bottom: 20px;
        }

        .test-options {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .test-option {
            background: white;
            padding: 20px 25px;
            border-radius: 20px;
            border: 3px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .test-option:hover {
            border-color: var(--primary);
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .test-option.selected {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-color: var(--primary);
            transform: scale(1.02);
        }

        .test-option.correct {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border-color: var(--success);
        }

        .test-option.incorrect {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border-color: var(--danger);
        }

        .option-letter {
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.4rem;
        }

        .option-text {
            flex: 1;
        }

        .option-arabic {
            font-family: 'Tajawal', sans-serif;
            font-size: 1.3rem;
            color: #666;
            margin-top: 5px;
        }

        .test-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn-next, .btn-submit, .btn-close-test {
            padding: 18px 45px;
            border: none;
            border-radius: 25px;
            font-size: 1.6rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Fredoka', sans-serif;
        }

        .btn-next {
            background: linear-gradient(135deg, var(--primary), var(--purple));
            color: white;
        }

        .btn-submit {
            background: linear-gradient(135deg, var(--success), #00b894);
            color: white;
        }

        .btn-close-test {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .btn-next:hover, .btn-submit:hover, .btn-close-test:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .test-results {
            text-align: center;
            padding: 40px;
        }

        .results-score {
            font-size: 6rem;
            font-weight: 700;
            color: var(--success);
            margin: 20px 0;
        }

        .results-message {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .results-arabic {
            font-family: 'Tajawal', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 30px;
        }

        .results-details {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 30px;
            border-radius: 25px;
            margin: 30px 0;
        }

        .results-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 2px solid #dee2e6;
            font-size: 1.6rem;
        }

        .results-stat:last-child {
            border-bottom: none;
        }

        .stat-label {
            font-weight: 600;
            color: var(--dark);
        }

        .stat-value {
            font-weight: 700;
            font-size: 1.8rem;
        }

        .stat-value.correct {
            color: var(--success);
        }

        .stat-value.incorrect {
            color: var(--danger);
        }

        /* ===== RESPONSIVE DESIGN - MOBILE OPTIMIZED ===== */
        
        /* Large Tablets (768px - 1024px) */
        @media (max-width: 1024px) {
            body {
                padding: 15px;
            }
            
            .main-header {
                padding: 35px 25px;
            }
            
            .main-title {
                font-size: 2.5rem;
            }
            
            .main-subtitle {
                font-size: 1.6rem;
            }
            
            .lesson-tabs {
                gap: 12px;
            }
            
            .lesson-tab {
                padding: 18px 30px;
                font-size: 1.3rem;
            }
            
            .kid-card {
                padding: 30px;
            }
        }
        
        /* Tablets & Small Laptops (600px - 768px) */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .main-header {
                padding: 30px 20px;
            }
            
            .main-header::before,
            .main-header::after {
                font-size: 3rem;
            }
            
            .main-title {
                font-size: 2rem;
            }
            
            .main-subtitle {
                font-size: 1.3rem;
            }
            
            .arabic-title {
                font-size: 1.4rem;
            }
            
            .lesson-tabs {
                gap: 10px;
            }
            
            .lesson-tab {
                padding: 15px 25px;
                font-size: 1.2rem;
                flex: 1 1 calc(50% - 10px);
            }
            
            .kid-card {
                padding: 25px;
                margin-bottom: 25px;
            }
            
            .section-header {
                font-size: 1.8rem;
                padding: 20px;
            }
            
            .section-header div {
                font-size: 1.3rem !important;
            }
            
            /* Sentence Cards */
            .sentence-card {
                padding: 20px;
            }
            
            .sentence-number {
                width: 40px;
                height: 40px;
                font-size: 1.4rem;
            }
            
            .sentence-text {
                font-size: 1.4rem;
            }
            
            .sentence-arabic {
                font-size: 1.2rem;
            }
            
            /* Buttons */
            .btn-audio,
            .btn-mic {
                font-size: 1.5rem;
                padding: 12px 25px;
            }
            
            /* Pictures Grid */
            .pictures-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .picture-card {
                padding: 15px;
            }
            
            /* Comments Quiz */
            .comment-option {
                padding: 15px;
                font-size: 1.3rem;
            }
            
            /* Grammar Tables */
            .grammar-table {
                font-size: 1.2rem;
            }
            
            /* Drag Drop Areas */
            .drop-zone {
                min-height: 120px;
                padding: 15px;
            }
            
            .draggable-item {
                padding: 12px 20px;
                font-size: 1.2rem;
            }
        }
        
        /* Mobile Phones (480px - 600px) */
        @media (max-width: 600px) {
            body {
                padding: 8px;
            }
            
            .main-header {
                padding: 25px 15px;
                border-radius: 20px;
            }
            
            .main-header::before,
            .main-header::after {
                font-size: 2.5rem;
                top: 15px;
            }
            
            .main-title {
                font-size: 1.8rem;
            }
            
            .main-subtitle {
                font-size: 1.2rem;
            }
            
            .arabic-title {
                font-size: 1.2rem;
            }
            
            .lesson-tabs {
                gap: 8px;
            }
            
            .lesson-tab {
                padding: 12px 20px;
                font-size: 1.1rem;
                flex: 1 1 calc(50% - 8px);
            }
            
            .kid-card {
                padding: 20px;
                border-radius: 25px;
            }
            
            .section-header {
                font-size: 1.6rem;
                padding: 18px;
                border-radius: 20px;
            }
            
            .section-header div {
                font-size: 1.2rem !important;
            }
            
            .sentence-card {
                padding: 18px;
                margin-bottom: 15px;
            }
            
            .sentence-number {
                width: 38px;
                height: 38px;
                font-size: 1.3rem;
                margin-right: 12px;
            }
            
            .sentence-text {
                font-size: 1.3rem;
            }
            
            .sentence-arabic {
                font-size: 1.1rem;
            }
            
            .btn-audio,
            .btn-mic {
                font-size: 1.4rem;
                padding: 10px 20px;
            }
            
            /* Pictures Grid - 2 columns maintained */
            .pictures-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .picture-card {
                padding: 12px;
            }
            
            .picture-emoji {
                font-size: 3rem;
            }
            
            .picture-label {
                font-size: 1.2rem;
            }
            
            /* Comments */
            .comment-option {
                padding: 12px;
                font-size: 1.2rem;
            }
            
            /* Grammar */
            .grammar-table {
                font-size: 1.1rem;
            }
            
            .grammar-table td,
            .grammar-table th {
                padding: 10px 8px;
            }
            
            /* Drag Drop */
            .drop-zone {
                min-height: 100px;
                padding: 12px;
            }
            
            .draggable-item {
                padding: 10px 18px;
                font-size: 1.1rem;
            }
            
            /* Verb Cards */
            .verb-card {
                padding: 15px;
            }
            
            /* Food Items */
            .food-item {
                padding: 12px;
            }
            
            .food-emoji {
                font-size: 2.5rem;
            }
        }
        
        /* Small Mobile Phones (< 480px) */
        @media (max-width: 480px) {
            body {
                padding: 5px;
            }
            
            .main-header {
                padding: 20px 12px;
                border-radius: 15px;
                margin-bottom: 20px;
            }
            
            .main-header::before,
            .main-header::after {
                font-size: 2rem;
                top: 10px;
            }
            
            .main-title {
                font-size: 1.5rem;
            }
            
            .main-subtitle {
                font-size: 1.1rem;
            }
            
            .arabic-title {
                font-size: 1.1rem;
            }
            
            .lesson-tabs {
                gap: 6px;
            }
            
            .lesson-tab {
                padding: 10px 15px;
                font-size: 1rem;
                flex: 1 1 100%;
                border-radius: 20px;
            }
            
            .kid-card {
                padding: 18px;
                border-radius: 20px;
                margin-bottom: 20px;
            }
            
            .section-header {
                font-size: 1.4rem;
                padding: 15px;
                border-radius: 18px;
            }
            
            .section-header div {
                font-size: 1.1rem !important;
                margin-top: 8px;
            }
            
            .sentence-card {
                padding: 15px;
                margin-bottom: 12px;
                border-radius: 15px;
            }
            
            .sentence-number {
                width: 35px;
                height: 35px;
                font-size: 1.2rem;
                margin-right: 10px;
            }
            
            .sentence-text {
                font-size: 1.2rem;
            }
            
            .sentence-arabic {
                font-size: 1rem;
            }
            
            .btn-audio,
            .btn-mic {
                font-size: 1.3rem;
                padding: 8px 15px;
                width: 100%;
                margin-bottom: 8px;
            }
            
            /* Pictures Grid - 1 column on very small screens */
            .pictures-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .picture-card {
                padding: 15px;
            }
            
            .picture-emoji {
                font-size: 3.5rem;
            }
            
            .picture-label {
                font-size: 1.3rem;
            }
            
            /* Comments */
            .comment-option {
                padding: 12px;
                font-size: 1.1rem;
            }
            
            /* Grammar */
            .grammar-table {
                font-size: 1rem;
            }
            
            .grammar-table td,
            .grammar-table th {
                padding: 8px 5px;
            }
            
            /* Drag Drop */
            .drop-zone {
                min-height: 80px;
                padding: 10px;
                font-size: 1rem;
            }
            
            .draggable-item {
                padding: 8px 15px;
                font-size: 1rem;
                margin: 5px;
            }
            
            /* Verb Cards */
            .verb-card {
                padding: 12px;
            }
            
            .verb-card h4 {
                font-size: 1.2rem;
            }
            
            /* Food Items */
            .food-item {
                padding: 10px;
            }
            
            .food-emoji {
                font-size: 2.2rem;
            }
            
            .food-name {
                font-size: 1.1rem;
            }
            
            /* I Can Goals */
            .kid-card div[style*="background: white"] {
                padding: 15px !important;
                font-size: 1.2rem !important;
            }
            
            /* Scale Labels */
            #comments-scale div {
                font-size: 0.9rem !important;
            }
        }
        
        /* Landscape Mode Optimization */
        @media (max-height: 500px) and (orientation: landscape) {
            .main-header {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .main-title {
                font-size: 1.4rem;
            }
            
            .main-subtitle {
                font-size: 1rem;
            }
            
            .arabic-title {
                font-size: 0.9rem;
            }
            
            .main-header::before,
            .main-header::after {
                font-size: 1.5rem;
            }
            
            .lesson-tabs {
                padding: 8px;
                gap: 5px;
            }
            
            .lesson-tab {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
            
            .kid-card {
                padding: 15px;
            }
            
            .section-header {
                padding: 12px;
                font-size: 1.2rem;
            }
        }
        
        /* Touch-friendly improvements for all mobile devices */
        @media (hover: none) and (pointer: coarse) {
            .lesson-tab,
            .btn-audio,
            .btn-mic,
            .comment-option,
            .draggable-item,
            .picture-card {
                min-height: 44px; /* Apple's recommended touch target size */
                touch-action: manipulation; /* Prevents double-tap zoom */
            }
            
            /* Increase spacing for better touch targets */
            .lesson-tabs {
                gap: 12px;
            }
            
            .sentence-card {
                margin-bottom: 18px;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>

    <!-- BACK/HOME BUTTON -->
    <a href="/" style="position:fixed; top:20px; left:20px; background:white; padding:12px; border-radius:50%; box-shadow:0 5px 15px rgba(0,0,0,0.1); z-index:200; color:#374151; transition:all 0.3s; text-decoration:none;">
        <i class="fas fa-home"></i>
    </a>

    <!-- Main Header -->
    <header class="main-header animate__animated animate__fadeInDown">
        <h1 class="main-title">Grade 3 - Unit 1 ğŸ®</h1>
        <h2 class="main-subtitle">Fun on the Weekend!</h2>
        <p class="arabic-title">ÙˆÙ‚Øª Ø§Ù„Ù…Ø±Ø­ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</p>
    </header>

    <!-- Test Buttons for Current Lesson -->
    <div class="test-buttons-container" id="test-buttons-container">
        <!-- Will be populated dynamically based on active lesson -->
    </div>

    <!-- Lesson Tabs -->
    <div class="lesson-tabs">
        <button class="lesson-tab lesson1 active" onclick="switchLesson(1)">
            ğŸ“š Lesson 1: Activities
        </button>
        <button class="lesson-tab lesson2" onclick="switchLesson(2)">
            ğŸ’¬ Lesson 2: Comments
        </button>
        <button class="lesson-tab lesson3" onclick="switchLesson(3)">
            ğŸ“– Lesson 3: Grammar
        </button>
        <button class="lesson-tab lesson4" onclick="switchLesson(4)">
            ğŸ¯ Lesson 4: Games
        </button>
        <button class="lesson-tab lesson5" onclick="switchLesson(5)" style="border-left: 8px solid #00bcd4;">
            ğŸµ Lesson 5: Reading
        </button>
        <button class="lesson-tab lesson6" onclick="switchLesson(6)" style="border-left: 8px solid #ff5722;">
            ğŸ• Lesson 6: Restaurant
        </button>
        <button class="lesson-tab lesson7" onclick="switchLesson(7)" style="border-left: 8px solid #009688;">
            ğŸ”¤ Lesson 7: Phonics
        </button>
        <button class="lesson-tab lesson8" onclick="switchLesson(8)" style="border-left: 8px solid #673ab7;">
            ğŸ›ï¸ Lesson 8: Shopping
        </button>
    </div>

    <!-- Lesson 1: Finding Out Time -->
    <div id="lesson1" class="lesson-content active">
        <div class="kid-card">
            <div class="section-header animate__animated animate__bounceIn">
                ğŸ‰ Listen and Practice! ğŸ”Š
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">Ø§Ø³ØªÙ…Ø¹ Ùˆ ØªØ¯Ø±Ø¨</div>
            </div>

            <div id="sentences-container"></div>
        </div>

        <div class="kid-card">
            <div class="section-header animate__animated animate__bounceIn">
                ğŸ–¼ï¸ Match the Pictures! âœ¨
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">Ø·Ø§Ø¨Ù‚ Ø§Ù„ØµÙˆØ±</div>
            </div>

            <div class="pictures-grid" id="pictures-container"></div>
        </div>

        <div class="kid-card comments-practice">
            </div>
            
            <div id="comments-quiz"></div>
        </div>

        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, var(--purple), #d81b60);">
                ğŸ§© Sentence Puzzle! 
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">Ù„ØºØ² Ø§Ù„Ø¬Ù…Ù„ - Ø±ØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª</div>
            </div>
            <div id="sentence-order-game"></div>
        </div>
    </div>

    <!-- Lesson 2: Challenge Time - Comments -->
    <div id="lesson2" class="lesson-content">
        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, var(--orange), var(--secondary));">
                ğŸ’¬ Challenge Time! Ask, Listen, and Comment
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø¯ÙŠ - Ø§Ø³Ø£Ù„ØŒ Ø§Ø³ØªÙ…Ø¹ Ùˆ Ø¹Ù„Ù‚</div>
            </div>

            <!-- Comments Arrow Scale -->
            <div style="background: linear-gradient(135deg, #fff9c4, #fff59d); padding: 40px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="text-align: center; font-size: 2rem; color: var(--dark); margin-bottom: 30px;">ğŸ“Š Comments Scale / Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</h3>
                
                <div style="position: relative; margin: 40px 0;">
                    <!-- Arrow -->
                    <div style="background: linear-gradient(90deg, #4caf50, #ffeb3b, #f44336); height: 30px; border-radius: 15px; position: relative;">
                        <div style="position: absolute; right: -10px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-left: 20px solid #f44336; border-top: 15px solid transparent; border-bottom: 15px solid transparent;"></div>
                    </div>
                    
                    <!-- Labels -->
                    <div style="display: flex; justify-content: space-between; margin-top: 20px; gap: 10px;" id="comments-scale"></div>
                </div>
            </div>

            <!-- Conversation Practice -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--primary); margin-bottom: 25px; text-align: center;">ğŸ—£ï¸ Practice the Conversation</h3>
                <div id="conversation-practice"></div>
            </div>

            <!-- I Can Goals -->
            <div style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); padding: 35px; border-radius: 25px; border: 4px solid var(--success);">
                <h3 style="font-size: 2rem; color: var(--success); margin-bottom: 20px; text-align: center;">âœ… I Can... Ø£Ù†Ø§ Ø£Ø³ØªØ·ÙŠØ¹</h3>
                <div style="display: grid; gap: 15px;">
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        âœ“ Ask a partner about his or her weekend and get the answers<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ø£Ø³Ø£Ù„ Ø²Ù…ÙŠÙ„ Ø¹Ù† Ø¹Ø·Ù„ØªÙ‡ Ø£Ùˆ Ø¹Ø·Ù„ØªÙ‡Ø§ ÙˆØ£Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬ÙˆØ¨Ø©</span>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        âœ“ Listen to someone answer about what he or she did and make a comment<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ø§Ø³ØªÙ…Ø¹ Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù† Ù…Ø§ ÙØ¹Ù„ Ø£Ùˆ ÙØ¹Ù„Øª ÙÙŠ Ø§Ù„Ø¹Ø·Ù„Ø© ÙˆØ£Ø¹Ù„Ù‚</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lesson 3: Grammar in Action -->
    <div id="lesson3" class="lesson-content">
        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, var(--purple), #9d4edd);">
                ğŸ“– Grammar in Action - Past Tense
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ - Ø§Ù„Ø²Ù…Ù† Ø§Ù„Ù…Ø§Ø¶ÙŠ</div>
            </div>

            <!-- Conjugation Table -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--purple); margin-bottom: 25px; text-align: center;">ğŸ”„ Practice the Table / ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„</h3>
                <div id="conjugation-table"></div>
            </div>

            <!-- Verb Chunks -->
            <div style="background: linear-gradient(135deg, #f3e5f5, #e1bee7); padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--purple); margin-bottom: 25px; text-align: center;">ğŸ¯ Listen and Chant Past Tense Verb Chunks</h3>
                <div id="verb-chunks"></div>
            </div>

            <!-- Pronunciation Game -->
            <div style="background: white; padding: 35px; border-radius: 25px;">
                <h3 style="font-size: 2rem; color: var(--primary); margin-bottom: 25px; text-align: center;">ğŸ”Š Sort by Pronunciation: /t/ or /d/</h3>
                <p style="text-align: center; font-size: 1.4rem; margin-bottom: 25px;">Drag the verbs to the correct sound! / Ø§Ø³Ø­Ø¨ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ù„Ù„ØµÙˆØª Ø§Ù„ØµØ­ÙŠØ­!</p>
                <div id="pronunciation-game"></div>
            </div>
        </div>
    </div>

    <!-- Lesson 4: Verb Games -->
    <div id="lesson4" class="lesson-content">
        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, var(--secondary), #d81b60);">
                ğŸ¯ Verb Game Challenge!
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">ØªØ­Ø¯ÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„</div>
            </div>

            <!-- Game Instructions -->
            <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 30px; border-radius: 25px; margin-bottom: 30px; text-align: center;">
                <p style="font-size: 1.6rem; font-weight: 600; margin-bottom: 15px;">ğŸ‘¥ Can you play the Verb Game and beat a partner?</p>
                <p style="font-family: 'Tajawal'; font-size: 1.4rem; font-weight: 700; color: #000;">Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ ÙƒØªØ§Ø¨Ø© Ùˆ Ù„Ø¹Ø¨ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ùˆ Ù‡Ø²ÙŠÙ…Ø© Ø²Ù…ÙŠÙ„ØŸ</p>
            </div>

            <!-- Verb Game 1 -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--green); margin-bottom: 25px; text-align: center;">
                    ğŸŒŸ Verb Game 1 (Practice) / Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„ 1 ØªØ¯Ø±ÙŠØ¨
                </h3>
                <div id="verb-game-1"></div>
            </div>

            <!-- Verb Game 2 -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--primary); margin-bottom: 25px; text-align: center;">
                    âš¡ Verb Game 2 / Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„ 2
                </h3>
                <div id="verb-game-2"></div>
            </div>

            <!-- I Can Achievements -->
            <div style="background: linear-gradient(135deg, #fff9c4, #fff59d); padding: 35px; border-radius: 25px; border: 4px solid var(--accent);">
                <h3 style="font-size: 2rem; color: var(--dark); margin-bottom: 20px; text-align: center;">ğŸ† I Can... Ø£Ù†Ø§ Ø£Ø³ØªØ·ÙŠØ¹</h3>
                <div style="display: grid; gap: 15px;">
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        â­ Say the past form of six regular verbs<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ø°ÙƒØ± Ø§Ù„Ø²Ù…Ù† Ø§Ù„Ù…Ø§Ø¶ÙŠ Ù„Ø³ØªØ© Ø£ÙØ¹Ø§Ù„ Ù…Ù†ØªØ¸Ù…Ø©</span>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        â­ Say two things that I did over the weekend<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ø°ÙƒØ± Ø´ÙŠØ¦ÙŠÙ† ÙØ¹Ù„ØªÙ‡Ø§ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lesson 5: Rhythms and Reading -->
    <div id="lesson5" class="lesson-content">
        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, #00bcd4, #0097a7);">
                ğŸµ Rhythms and Reading
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø©</div>
            </div>

            <!-- Ingredient Table -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <div style="display: flex; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; justify-content: center;">
                    <div style="text-align: center;">
                        <div style="font-size: 5rem; margin-bottom: 10px;">ğŸ•</div>
                        <p style="font-size: 1.3rem; font-weight: 600;">Pizza</p>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 5rem; margin-bottom: 10px;">ğŸ°</div>
                        <p style="font-size: 1.3rem; font-weight: 600;">Cake</p>
                    </div>
                </div>
                
                <h3 style="font-size: 2rem; color: var(--primary); margin-bottom: 25px; text-align: center;">ğŸ“‹ Ingredients Table / Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù‚Ø§Ø¯ÙŠØ±</h3>
                <div id="ingredients-table"></div>
            </div>

            <!-- Some/Any Practice -->
            <div style="background: linear-gradient(135deg, #e1f5fe, #b3e5fc); padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--primary); margin-bottom: 25px; text-align: center;">âœï¸ Write Sentences / Ø§ÙƒØªØ¨ Ø§Ù„Ø¬Ù…Ù„</h3>
                <div id="some-any-practice"></div>
            </div>

            <!-- I Can Goals -->
            <div style="background: linear-gradient(135deg, #fff9c4, #fff59d); padding: 35px; border-radius: 25px; border: 4px solid var(--accent);">
                <h3 style="font-size: 2rem; color: var(--dark); margin-bottom: 20px; text-align: center;">âœ… I Can... Ø£Ù†Ø§ Ø£Ø³ØªØ·ÙŠØ¹</h3>
                <div style="display: grid; gap: 15px;">
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        â­ Use "some", "any", and "but" correctly<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ø§Ø³ØªØ®Ø¯Ù… some Ùˆ any Ùˆ but Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lesson 6: Restaurant Ordering -->
    <div id="lesson6" class="lesson-content">
        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, #ff5722, #e64a19);">
                ğŸ• Challenge Time! Ordering in a Restaurant
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„Ù…Ø·Ø¹Ù…</div>
            </div>

            <!-- Restaurant Menu -->
            <div style="background: linear-gradient(135deg, #424242, #212121); padding: 40px; border-radius: 25px; margin-bottom: 30px; color: white;">
                <h3 style="font-size: 2.5rem; text-align: center; margin-bottom: 30px; color: #00e676;">ğŸ½ï¸ RESTAURANT LA PHONICS ğŸ½ï¸</h3>
                <div id="restaurant-menu"></div>
            </div>

            <!-- Ordering Practice -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--primary); margin-bottom: 25px; text-align: center;">ğŸ—¨ï¸ Practice Ordering</h3>
                <div id="ordering-conversation"></div>
            </div>

            <!-- I Can Goals -->
            <div style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); padding: 35px; border-radius: 25px; border: 4px solid var(--success);">
                <h3 style="font-size: 2rem; color: var(--success); margin-bottom: 20px; text-align: center;">âœ… I Can... Ø£Ù†Ø§ Ø£Ø³ØªØ·ÙŠØ¹</h3>
                <div style="display: grid; gap: 15px;">
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        â­ Order food at a restaurant<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ø£Ø·Ù„Ø¨ Ø§Ù„Ø·Ø¹Ø§Ù… ÙÙŠ Ø§Ù„Ù…Ø·Ø¹Ù…</span>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        â­ Read an English menu<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ù‚Ø±Ø§Ø¡Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù… Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lesson 7: Phonics -->
    <div id="lesson7" class="lesson-content">
        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, #009688, #00796b);">
                ğŸ”¤ Phonics - nd and nt sounds
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">Ø§Ù„ØµÙˆØªÙŠØ§Øª ÙˆØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù†Ø·Ù‚</div>
            </div>

            <!-- Sound Introduction -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--primary); margin-bottom: 25px; text-align: center;">ğŸ‘‚ Listen, read, and practice!</h3>
                <div id="phonics-sounds"></div>
            </div>

            <!-- Complete the Words -->
            <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--orange); margin-bottom: 25px; text-align: center;">âœï¸ Complete the words!</h3>
                <div id="phonics-complete"></div>
            </div>

            <!-- Chant Practice -->
            <div style="background: white; padding: 35px; border-radius: 25px;">
                <h3 style="font-size: 2rem; color: var(--success); margin-bottom: 25px; text-align: center;">ğŸ¤ Let's Chant!</h3>
                <div id="phonics-chant"></div>
            </div>
        </div>
    </div>

    <!-- Lesson 8: Shopping Mall -->
    <div id="lesson8" class="lesson-content">
        <div class="kid-card">
            <div class="section-header" style="background: linear-gradient(135deg, #673ab7, #512da8);">
                ğŸ›ï¸ In the Shopping Mall
                <div style="font-family: 'Tajawal'; font-size: 1.5rem; margin-top: 10px;">ÙÙŠ Ù…Ø±ÙƒØ² Ø§Ù„ØªØ³ÙˆÙ‚</div>
            </div>

            <!-- Mall Directory -->
            <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--purple); margin-bottom: 25px; text-align: center;">ğŸ¬ Mall Directory / Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø­Ù„Ø§Øª</h3>
                <div id="mall-stores"></div>
            </div>

            <!-- Shopping Conversation -->
            <div style="background: linear-gradient(135deg, #f3e5f5, #e1bee7); padding: 35px; border-radius: 25px; margin-bottom: 30px;">
                <h3 style="font-size: 2rem; color: var(--purple); margin-bottom: 25px; text-align: center;">ğŸ’¬ Practice Shopping Conversation</h3>
                <div id="shopping-conversation"></div>
            </div>

            <!-- I Can Goals -->
            <div style="background: linear-gradient(135deg, #e8eaf6, #c5cae9); padding: 35px; border-radius: 25px; border: 4px solid var(--purple);">
                <h3 style="font-size: 2rem; color: var(--purple); margin-bottom: 20px; text-align: center;">âœ… I Can... Ø£Ù†Ø§ Ø£Ø³ØªØ·ÙŠØ¹</h3>
                <div style="display: grid; gap: 15px;">
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        â­ Read English store signs<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆØ­Ø§Øª Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</span>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 15px; font-size: 1.4rem;">
                        â­ Ask for directions in a mall<br>
                        <span style="font-family: 'Tajawal'; color: #666; font-size: 1.3rem;">Ø·Ù„Ø¨ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡Ø§Øª ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Celebration Overlay -->
    <div class="celebration" id="celebration">
        <div class="celebration-content">
            <div class="celebration-emoji">ğŸ‰</div>
            <div class="celebration-text">Amazing Job!</div>
            <div class="celebration-arabic">Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹!</div>
            <button class="btn-audio" onclick="hideCelebration()" style="margin-top: 30px;">Continue â¡ï¸</button>
        </div>
    </div>

    <script>
        // Lesson 1 Data
        const lesson1Sentences = [
            {
                id: 1,
                text: "I <span class='verb'>cleaned</span> my room.",
                textAr: "Ø£Ù†Ø§ Ù†Ø¸ÙØª ØºØ±ÙØªÙŠ",
                verb: "cleaned",
                verbAr: "Ù†Ø¸Ù",
                audio: "I cleaned my room",
                pictureId: 1,
                pictureEmoji: "ğŸ§¹",
                pictureText: "Cleaning",
                comment: "boring"
            },
            {
                id: 2,
                text: "You <span class='verb'>practiced</span> on the trampoline.",
                textAr: "Ø£Ù†Øª ØªØ¯Ø±Ø¨Øª Ø¹Ù„Ù‰ Ø§Ù„ØªØ±Ø§Ù…Ø¨ÙˆÙ„ÙŠÙ†",
                verb: "practiced",
                verbAr: "ØªØ¯Ø±Ø¨",
                audio: "You practiced on the trampoline",
                pictureId: 2,
                pictureEmoji: "ğŸ¤¸",
                pictureText: "Trampoline",
                comment: "fantastic"
            },
            {
                id: 3,
                text: "He <span class='verb'>worked</span> out about sharks.",
                textAr: "Ù‡Ùˆ ØªÙ…Ø±Ù† ÙÙŠ Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ù‚Ø±ÙˆØ´",
                verb: "worked",
                verbAr: "Ø¹Ù…Ù„",
                audio: "He worked out about sharks",
                pictureId: 3,
                pictureEmoji: "ğŸ¦ˆ",
                pictureText: "Sharks",
                comment: "great"
            },
            {
                id: 4,
                text: "He <span class='verb'>kicked</span> a ball for three hours.",
                textAr: "Ù‡Ùˆ Ø±ÙƒÙ„ ÙƒØ±Ø© Ù„Ø«Ù„Ø§Ø« Ø³Ø§Ø¹Ø§Øª",
                verb: "kicked",
                verbAr: "Ø±ÙƒÙ„",
                audio: "He kicked a ball for three hours",
                pictureId: 4,
                pictureEmoji: "âš½",
                pictureText: "Football",
                comment: "fantastic"
            },
            {
                id: 5,
                text: "They <span class='verb'>played</span> computer games.",
                textAr: "Ù‡Ù… Ù„Ø¹Ø¨ÙˆØ§ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±",
                verb: "played",
                verbAr: "Ù„Ø¹Ø¨",
                audio: "They played computer games",
                pictureId: 5,
                pictureEmoji: "ğŸ®",
                pictureText: "Games",
                comment: "great"
            },
            {
                id: 6,
                text: "Fahad <span class='verb'>studied</span> for six hours.",
                textAr: "ÙÙ‡Ø¯ Ø¯Ø±Ø³ Ù„Ù…Ø¯Ø© Ø³Øª Ø³Ø§Ø¹Ø§Øª",
                verb: "studied",
                verbAr: "Ø¯Ø±Ø³",
                audio: "Fahad studied for six hours",
                pictureId: 6,
                pictureEmoji: "ğŸ“š",
                pictureText: "Studying",
                comment: "boring"
            },
            {
                id: 7,
                text: "Ali <span class='verb'>cooked</span> breakfast.",
                textAr: "Ø¹Ù„ÙŠ Ø·Ø¨Ø® Ø§Ù„ÙØ·ÙˆØ±",
                verb: "cooked",
                verbAr: "Ø·Ø¨Ø®",
                audio: "Ali cooked breakfast",
                pictureId: 7,
                pictureEmoji: "ğŸ³",
                pictureText: "Cooking",
                comment: "great"
            },
            {
                id: 8,
                text: "Noura <span class='verb'>stayed</span> home.",
                textAr: "Ù†ÙˆØ±Ø© Ø¨Ù‚ÙŠØª Ø¨Ø§Ù„Ù…Ù†Ø²Ù„",
                verb: "stayed",
                verbAr: "Ø¨Ù‚ÙŠ",
                audio: "Noura stayed home",
                pictureId: 8,
                pictureEmoji: "ğŸ ",
                pictureText: "Home",
                comment: "okay"
            }
        ];

        const comments = [
            {text: "That's fantastic!", ar: "Ù‡Ø°Ø§ Ø±Ø§Ø¦Ø¹!", emoji: "ğŸŒŸ", value: "fantastic"},
            {text: "That's great!", ar: "Ù‡Ø°Ø§ Ø¹Ø¸ÙŠÙ…!", emoji: "ğŸ‘", value: "great"},
            {text: "That's okay.", ar: "Ù‡Ø°Ø§ Ù…Ù‚Ø¨ÙˆÙ„", emoji: "ğŸ˜Š", value: "okay"},
            {text: "That's scary!", ar: "Ù‡Ø°Ø§ Ù…Ø®ÙŠÙ!", emoji: "ğŸ˜±", value: "scary"},
            {text: "That's boring.", ar: "Ù‡Ø°Ø§ Ù…Ù…Ù„", emoji: "ğŸ˜´", value: "boring"}
        ];

        // Render Lesson 1 Sentences
        function renderSentences() {
            const container = document.getElementById('sentences-container');
            container.innerHTML = lesson1Sentences.map(s => `
                <div class="sentence-card animate__animated animate__fadeInUp" style="animation-delay: ${s.id * 0.1}s;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <span class="sentence-number">${s.id}</span>
                        <div style="flex: 1;">
                            <p class="sentence-text">${s.text}</p>
                            <p class="sentence-arabic">${s.textAr}</p>
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn-audio" onclick="speak('${s.audio}')">
                            ğŸ”Š Listen
                        </button>
                        <button class="btn-mic" onclick="practicePronunciation('${s.audio}', ${s.id})">
                            ğŸ¤ Practice
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Render Pictures
        function renderPictures() {
            const container = document.getElementById('pictures-container');
            container.innerHTML = lesson1Sentences.map(s => `
                <div class="picture-card" onclick="selectPicture(${s.id})">
                    <div class="picture-number">${s.id}</div>
                    <div class="picture-emoji">${s.pictureEmoji}</div>
                    <p class="picture-text">${s.pictureText}</p>
                </div>
            `).join('');
        }

        // Render Comments Quiz
        let currentQuestionIndex = 0;
        function renderCommentsQuiz() {
            const container = document.getElementById('comments-quiz');
            const sentence = lesson1Sentences[currentQuestionIndex];
            
            container.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 25px; margin-bottom: 25px;">
                    <p style="font-size: 1.8rem; font-weight: 700; color: var(--primary); margin-bottom: 20px;">
                        ${sentence.text.replace(/<[^>]*>/g, '')}
                    </p>
                    <p style="font-family: 'Tajawal'; font-size: 1.5rem; font-weight: 700; color: #000; margin-bottom: 20px;">
                        ${sentence.textAr}
                    </p>
                    <p style="font-size: 1.4rem; color: #666;">
                        ğŸ’­ What would you say about this activity?
                    </p>
                </div>
                
                <div>
                    ${comments.map(c => `
                        <div class="comment-option" onclick="selectComment('${c.value}', '${sentence.comment}')">
                            <span class="comment-emoji">${c.emoji}</span>
                            <div style="flex: 1;">
                                <div style="font-size: 1.5rem;">${c.text}</div>
                                <div style="font-family: 'Tajawal'; font-size: 1.3rem; color: #666; margin-top: 5px;">${c.ar}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Speech Functions
        // Audio Context & Fallbacks
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        let voices = [];
        const loadVoices = () => {
            voices = window.speechSynthesis.getVoices();
        };
        window.speechSynthesis.onvoiceschanged = loadVoices;
        loadVoices(); // Initial load

        window.speak = function(text, rate = 1) {
            if (!window.speechSynthesis) {
                console.error("Browser does not support TTS.");
                return;
            }
            
            // Cancel previous
            window.speechSynthesis.cancel();
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-GB'; // British English
            utterance.volume = 1.0; 
            
            // Attempt to find a British English voice
            if (voices.length === 0) voices = window.speechSynthesis.getVoices();
            const britishVoice = voices.find(v => v.lang === 'en-GB') || 
                                 voices.find(v => v.lang.startsWith('en-') && v.name.includes('UK')) ||
                                 voices.find(v => v.lang.startsWith('en-') && v.name.includes('British')) ||
                                 voices.find(v => v.lang.startsWith('en'));
            if (britishVoice) {
                utterance.voice = britishVoice;
            }
            
            // Use optimized rate (0.95 default)
            utterance.rate = rate === 1 ? 0.95 : rate;
            
            window.speechSynthesis.speak(utterance);
        };
        window.speakText = window.speak; // Alias for compatibility

        function practicePronunciation(text, id) {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                const recognition = new SpeechRecognition();
                
                recognition.lang = 'en-US';
                recognition.onresult = function(event) {
                    const said = event.results[0][0].transcript.toLowerCase();
                    const expected = text.toLowerCase();
                    
                    if (said.includes(expected.split(' ')[0]) || said.includes(expected.split(' ')[expected.split(' ').length - 1])) {
                        showCelebration("Perfect! ğŸŒŸ", "Ù†Ø·Ù‚ Ø±Ø§Ø¦Ø¹!");
                        playSound('success');
                    } else {
                        alert("Try again! Listen carefully and repeat! ğŸ¤");
                    }
                };
                
                recognition.onerror = function() {
                    alert("Microphone error. Please check permissions! ğŸ¤");
                };
                
                recognition.start();
            } else {
                alert("Speech recognition not supported in your browser! ğŸ˜¢");
            }
        }

        // Picture Selection
        // Picture Selection
        function selectPicture(id) {
            const card = event.currentTarget;
            
            // Find the sentence object to get the word
            const sentence = lesson1Sentences.find(s => s.id === id);
            if (sentence) {
                speak(sentence.pictureText);
            }

            card.classList.toggle('matched');
            
            if (card.classList.contains('matched')) {
                showCelebration("Great Match! âœ¨", "Ù…Ø·Ø§Ø¨Ù‚Ø© Ø±Ø§Ø¦Ø¹Ø©!");
                playSound('success');
            }
        }

        // Comment Selection
        function selectComment(selected, correct) {
            const options = document.querySelectorAll('.comment-option');
            options.forEach(opt => opt.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            if (selected === correct) {
                showCelebration("Perfect Answer! ğŸ‰", "Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø«Ø§Ù„ÙŠØ©!");
                playSound('success');
                
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < lesson1Sentences.length) {
                        renderCommentsQuiz();
                    } else {
                        showCelebration("Quiz Complete! ğŸ†", "Ø§ÙƒØªÙ…Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!");
                        currentQuestionIndex = 0;
                    }
                }, 2000);
            } else {
                playSound('error');
            }
        }

        // Celebration
        function showCelebration(text, arabic) {
            const celeb = document.getElementById('celebration');
            celeb.querySelector('.celebration-text').textContent = text;
            celeb.querySelector('.celebration-arabic').textContent = arabic;
            celeb.classList.add('show');
        }

        function hideCelebration() {
            document.getElementById('celebration').classList.remove('show');
        }

        // Sound Effects
        function playSound(type) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            if (type === 'success') {
                oscillator.frequency.value = 800;
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            } else {
                oscillator.frequency.value = 200;
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            }
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }

        // Lesson Switching
        function switchLesson(num) {
            // Hide all lessons
            document.querySelectorAll('.lesson-content').forEach(l => l.classList.remove('active'));
            document.querySelectorAll('.lesson-tab').forEach(t => t.classList.remove('active'));
            
            // Show selected lesson
            document.getElementById(`lesson${num}`).classList.add('active');
            document.querySelector(`.lesson${num}`).classList.add('active');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderSentences();
            renderPictures();
            renderCommentsQuiz();
            
            // Lesson 2
            renderCommentsScale();
            renderConversation();
            
            // Lesson 3
            renderConjugationTable();
            renderVerbChunks();
            renderPronunciationGame();
            
            // Lesson 4
            renderVerbGame1();
            renderVerbGame2();

            // Lesson 5
            renderIngredientsTable();
            renderSomeAnyPractice();

            // Lesson 6
            renderRestaurantMenu();
            renderOrderingConversation();

            // Lesson 7
            renderPhonicsSounds();
            renderPhonicsComplete();
            renderPhonicsChant();

            // Lesson 8
            renderMallStores();
            renderShoppingConversation();
        });

        // ==================== LESSON 2 FUNCTIONS ====================

        const commentsScale = [
            {text: "That's fantastic!", ar: "Ù‡Ø°Ø§ Ø±Ø§Ø¦Ø¹!", emoji: "ğŸŒŸ"},
            {text: "That's great!", ar: "Ù‡Ø°Ø§ Ø¹Ø¸ÙŠÙ…!", emoji: "ğŸ‘"},
            {text: "That's okay.", ar: "Ù‡Ø°Ø§ Ù…Ù‚Ø¨ÙˆÙ„", emoji: "ğŸ˜Š"},
            {text: "That's scary!", ar: "Ù‡Ø°Ø§ Ù…Ø®ÙŠÙ!", emoji: "ğŸ˜±"},
            {text: "That's boring.", ar: "Ù‡Ø°Ø§ Ù…Ù…Ù„", emoji: "ğŸ˜´"}
        ];

        function renderCommentsScale() {
            const container = document.getElementById('comments-scale');
            container.innerHTML = commentsScale.map((c, i) => `
                <div style="flex: 1; text-align: center; transition: transform 0.3s;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
                    <div style="font-size: 3rem; margin-bottom: 10px; cursor: pointer;" onclick="speak('${c.text.replace(/'/g, "\\'")}')">${c.emoji}</div>
                    <div style="background: white; padding: 15px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                        <div style="cursor: pointer;" onclick="speak('${c.text.replace(/'/g, "\\'")}')">
                            <p style="font-size: 1.3rem; font-weight: 700; color: var(--dark); margin-bottom: 5px;">${c.text}</p>
                            <p style="font-family: 'Tajawal'; font-size: 1.2rem; color: #666;">${c.ar}</p>
                        </div>
                        <div style="display: flex; gap: 5px; margin-top: 10px;">
                            <button class="btn-audio" style="flex: 1; border-radius: 10px; padding: 8px; font-size: 0.9rem;" onclick="speak('${c.text.replace(/'/g, "\\'")}')">ğŸ”Š Listen</button>
                            <button class="btn-mic" style="flex: 1; border-radius: 10px; padding: 8px; font-size: 0.9rem;" onclick="practicePronunciation('${c.text.replace(/'/g, "\\'")}', ${i})">ğŸ¤ Practice</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        const conversations = [
            {q: "What did you do over the weekend?", qAr: "Ù…Ø§Ø°Ø§ ÙØ¹Ù„Øª ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ", answer: "I cooked a big breakfast.", answerAr: "Ø£Ù†Ø§ Ø·Ø¨Ø®Øª ÙØ·ÙˆØ± ÙƒØ¨ÙŠØ±"},
            {q: "Did you have fun?", qAr: "Ù‡Ù„ Ø§Ø³ØªÙ…ØªØ¹ØªØŸ", answer: "Yes! That's fantastic!", answerAr: "Ù†Ø¹Ù…! Ù‡Ø°Ø§ Ø±Ø§Ø¦Ø¹!"},
            {q: "What else did you do?", qAr: "Ù…Ø§Ø°Ø§ ÙØ¹Ù„Øª Ø£ÙŠØ¶Ø§Ù‹ØŸ", answer: "I played computer games.", answerAr: "Ø£Ù†Ø§ Ù„Ø¹Ø¨Øª Ø§Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±"}
        ];

        function renderConversation() {
            const container = document.getElementById('conversation-practice');
            container.innerHTML = conversations.map((conv, i) => `
                <div class="sentence-card" style="animation-delay: ${i*0.15}s;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <span style="font-size: 3rem;">${i % 2 === 0 ? 'ğŸ‘¦' : 'ğŸ‘§'}</span>
                        <div style="flex: 1;">
                            <p style="font-size: 1.6rem; font-weight: 600; color: var(--primary); cursor: pointer;" onclick="speak('${conv.q}')"><strong>Q:</strong> ${conv.q}</p>
                            <p style="font-family: 'Tajawal'; font-size: 1.4rem; color: #000; font-weight: 700;">${conv.qAr}</p>
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 20px; border-radius: 15px; margin-bottom: 15px; cursor: pointer;" onclick="speak('${conv.answer}')">
                        <p style="font-size: 1.5rem; color: #0d47a1;"><strong>A:</strong> ${conv.answer}</p>
                        <p style="font-family: 'Tajawal'; font-size: 1.3rem; color: #000; font-weight: 700; margin-top: 8px;">${conv.answerAr}</p>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn-audio" onclick="speak('${conv.q}. ${conv.answer}')">ğŸ”Š Listen All</button>
                        <button class="btn-mic" onclick="practicePronunciation('${conv.answer}', ${i})">ğŸ¤ Practice Answer</button>
                    </div>
                </div>
            `).join('');
        }

        // ==================== LESSON 3 FUNCTIONS ====================

        const pronouns = [
            {pronoun: "I / We", pronounAr: "Ø£Ù†Ø§ / Ù†Ø­Ù†", verb: "practiced", verbAr: "ØªØ¯Ø±Ø¨Ù†Ø§"},
            {pronoun: "You", pronounAr: "Ø£Ù†Øª / Ø£Ù†ØªÙ…", verb: "practiced", verbAr: "ØªØ¯Ø±Ø¨ØªÙ…"},
            {pronoun: "He / She", pronounAr: "Ù‡Ùˆ / Ù‡ÙŠ", verb: "practiced", verbAr: "ØªØ¯Ø±Ø¨ÙˆØ§"},
            {pronoun: "They", pronounAr: "Ù‡Ù… / Ù‡Ù†", verb: "practiced", verbAr: "ØªØ¯Ø±Ø¨ÙˆØ§"}
        ];

        function renderConjugationTable() {
            const container = document.getElementById('conjugation-table');
            container.innerHTML = `
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: linear-gradient(135deg, var(--purple), #9d4edd); color: white;">
                                <th style="padding: 20px; font-size: 1.6rem; text-align: center;">Pronoun / Ø§Ù„Ø¶Ù…ÙŠØ±</th>
                                <th style="padding: 20px; font-size: 1.6rem; text-align: center;">Verb / Ø§Ù„ÙØ¹Ù„</th>
                                <th style="padding: 20px; font-size: 1.6rem; text-align: center;">ğŸ”Š</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${pronouns.map((p, i) => `
                                <tr style="background: ${i % 2 === 0 ? '#f8fafc' : 'white'}; border-bottom: 2px solid #e5e7eb;">
                                    <td style="padding: 20px; text-align: center;">
                                        <div style="font-size: 1.5rem; font-weight: 600; color: var(--dark);">${p.pronoun}</div>
                                        <div style="font-family: 'Tajawal'; font-size: 1.3rem; color: #666; font-weight: 700; margin-top: 5px;">${p.pronounAr}</div>
                                    </td>
                                    <td style="padding: 20px; text-align: center;">
                                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">${p.verb}</div>
                                        <div style="font-family: 'Tajawal'; font-size: 1.3rem; color: #000; font-weight: 700; margin-top: 5px;">${p.verbAr}</div>
                                    </td>
                                    <td style="padding: 20px; text-align: center;">
                                        <button class="btn-audio" style="padding: 10px 20px; font-size: 1.5rem;" onclick="speak('${p.pronoun} ${p.verb}')">ğŸ”Š</button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        const verbChunks = [
            {base: "practice", past: "practiced", sentence: "I practiced my piano.", sentenceAr: "Ø£Ù†Ø§ ØªØ¯Ø±Ø¨Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ùˆ", pronunciation: "/t/"},
            {base: "watch", past: "watched", sentence: "You watched a film.", sentenceAr: "Ø£Ù†Øª Ø´Ø§Ù‡Ø¯Øª ÙÙŠÙ„Ù…Ø§Ù‹", pronunciation: "/t/"},
            {base: "cook", past: "cooked", sentence: "She cooked breakfast.", sentenceAr: "Ù‡ÙŠ Ø·Ø¨Ø®Øª Ø§Ù„ÙØ·ÙˆØ±", pronunciation: "/t/"},
            {base: "kick", past:"kicked", sentence: "He kicked a ball.", sentenceAr: "Ù‡Ùˆ Ø±ÙƒÙ„ Ø§Ù„ÙƒØ±Ø©", pronunciation: "/t/"},
            {base: "clean", past: "cleaned", sentence: "They cleaned the house.", sentenceAr: "Ù‡Ù… Ù†Ø¸ÙÙˆØ§ Ø§Ù„Ù…Ù†Ø²Ù„", pronunciation: "/d/"},
            {base: "stay", past: "stayed", sentence: "We stayed at home.", sentenceAr: "Ù†Ø­Ù† Ø¨Ù‚ÙŠÙ†Ø§ ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„", pronunciation: "/d/"},
            {base: "play", past: "played", sentence: "You played outside.", sentenceAr: "Ø£Ù†Øª Ù„Ø¹Ø¨Øª Ø¨Ø§Ù„Ø®Ø§Ø±Ø¬", pronunciation: "/d/"},
            {base: "study", past: "studied", sentence: "You studied a little.", sentenceAr: "Ø£Ù†Øª Ø¯Ø±Ø³Øª Ù‚Ù„ÙŠÙ„Ø§Ù‹", pronunciation: "/d/"}
        ];

        function renderVerbChunks() {
            const container = document.getElementById('verb-chunks');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    ${verbChunks.map((v, i) => `
                        <div class="sentence-card animate__animated animate__fadeInUp" style="animation-delay: ${i*0.1}s; border-left-color: ${v.pronunciation === '/t/' ? 'var(--orange)' : 'var(--success)'};">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <span class="sentence-number">${i+1}</span>
                                <div>
                                    <div style="font-size: 1.4rem; font-weight: 700; color: var(--dark);">
                                        <span style="color: #666;">${v.base}</span> â†’ <span class="verb">${v.past}</span>
                                    </div>
                                    <div style="background: ${v.pronunciation === '/t/' ? '#fff3e0' : '#e8f5e9'}; padding: 5px 12px; border-radius: 10px; display: inline-block; margin-top: 5px;">
                                        <span style="font-size: 1.3rem; font-weight: 700;">${v.pronunciation}</span>
                                    </div>
                                </div>
                            </div>
                            <p class="sentence-text">${v.sentence}</p>
                            <p class="sentence-arabic">${v.sentenceAr}</p>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px;">
                                <button class="btn-audio" onclick="speak('${v.sentence}')">ğŸ”Š Listen</button>
                                <button class="btn-mic" onclick="practicePronunciation('${v.past}', ${i})">ğŸ¤ Say It</button>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        let selectedVerbs = [];
        function renderPronunciationGame() {
            const container = document.getElementById('pronunciation-game');
            const shuffled = [...verbChunks].sort(() => Math.random() - 0.5);
            
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 30px; border-radius: 25px; min-height: 400px; border: 4px dashed var(--orange);">
                        <h4 style="text-align: center; font-size: 1.8rem; font-weight: 700; color: var(--orange); margin-bottom: 20px;">
                            ğŸ”Š /t/ Sound<br>
                            <span style="font-family: 'Tajawal'; font-size: 1.4rem;">ØµÙˆØª /Øª/</span>
                        </h4>
                        <div id="t-zone" style="display: grid; gap: 15px;"></div>
                    </div>
                    <div style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); padding: 30px; border-radius: 25px; min-height: 400px; border: 4px dashed var(--success);">
                        <h4 style="text-align: center; font-size: 1.8rem; font-weight: 700; color: var(--success); margin-bottom: 20px;">
                            ğŸ”Š /d/ Sound<br>
                            <span style="font-family: 'Tajawal'; font-size: 1.4rem;">ØµÙˆØª /Ø¯/</span>
                        </h4>
                        <div id="d-zone" style="display: grid; gap: 15px;"></div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-audio" onclick="checkPronunciationSort()" style="font-size: 1.6rem; padding: 20px 50px;">âœ… Check My Sorting!</button>
                </div>
                
                <div style="background: #f8fafc; padding: 25px; border-radius: 20px; margin-top: 20px;">
                    <h4 style="font-size: 1.6rem; text-align: center; margin-bottom: 20px;">ğŸ“š Click a verb to sort it!</h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center;" id="verb-buttons">
                        ${shuffled.map((v, i) => `
                            <button class="btn-audio" id="verb-${i}" onclick="sortVerb('${v.past}', '${v.pronunciation}', 'verb-${i}')" style="font-size: 1.4rem; padding: 15px 30px;">
                                ${v.past}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function sortVerb(verb, correctPronun, btnId) {
            const btn = document.getElementById(btnId);
            if (!btn) return;
            
            const isT = btn.classList.contains('sorted-t');
            const isD = btn.classList.contains('sorted-d');
            
            if(!isT && !isD) {
                // First click - ask where to sort
                const choice = prompt("Type 't' for /t/ sound or 'd' for /d/ sound:");
                if (choice === 't' || choice === 'T') {
                    document.getElementById('t-zone').innerHTML += `<div style="background: white; padding: 15px; border-radius: 15px; font-size: 1.4rem; font-weight: 700; text-align: center;">${verb}</div>`;
                    btn.style.background = '#ffa726';
                    btn.classList.add('sorted-t');
                    selectedVerbs.push({verb, chosen: '/t/', correct: correctPronun});
                } else if (choice === 'd' || choice === 'D') {
                    document.getElementById('d-zone').innerHTML += `<div style="background: white; padding: 15px; border-radius: 15px; font-size: 1.4rem; font-weight: 700; text-align: center;">${verb}</div>`;
                    btn.style.background = '#66bb6a';
                    btn.classList.add('sorted-d');
                    selectedVerbs.push({verb, chosen: '/d/', correct: correctPronun});
                }
            }
        }

        function checkPronunciationSort() {
            let correct = 0;
            selectedVerbs.forEach(v => {
                if (v.chosen === v.correct) correct++;
            });
            
            const total = selectedVerbs.length;
            const score = total > 0 ? Math.round((correct / total) * 100) : 0;
            
            if (score >= 80) {
                showCelebration(`Amazing! ${correct}/${total} Correct! ğŸ‰`, `Ø±Ø§Ø¦Ø¹! ${correct} Ù…Ù† ${total} ØµØ­ÙŠØ­Ø©!`);
                playSound('success');
            } else {
                alert(`You got ${correct}/${total} correct! Try again! ğŸ’ª`);
            }
            
            selectedVerbs = [];
        }

        // ==================== LESSON 4 FUNCTIONS ====================

        const verbGame1Grid = [
            ["cooked", "practiced", "played"],
            ["watched", "kicked", "studied"],
            ["â­", "cleaned", "stayed"]
        ];

        const verbGame2Grid = [
            ["cleaned", "played", "watched"],
            ["cooked", "stayed", "studied"],
            ["practiced", "kicked", ""]
        ];

        let game1Score = 0;
        let game2Score = 0;

        function renderVerbGame1() {
            const container = document.getElementById('verb-game-1');
            container.innerHTML = `
                <p style="text-align: center; font-size: 1.4rem; margin-bottom: 20px;">Click on a verb to hear it! Find the â­ star! / Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ ÙØ¹Ù„ Ù„ØªØ³Ù…Ø¹Ù‡! Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù†Ø¬Ù…Ø©!</p>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; max-width: 500px; margin: 0 auto 30px;">
                    ${verbGame1Grid.flat().map((cell, i) => `
                        <div class="picture-card" onclick="clickGame1Cell('${cell}', ${i})" style="padding: 30px; min-height: 120px; display: flex; align-items: center; justify-content: center;">
                            ${cell === 'â­' ? 
                                `<div style="font-size: 4rem;" id="game1-star">â“</div>` :
                                `<div style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">${cell}</div>`
                            }
                        </div>
                    `).join('')}
                </div>
                
                <div style="text-align: center;">
                    <div style="background: linear-gradient(135deg, var(--accent), #ffb700); padding: 20px; border-radius: 20px; display: inline-block;">
                        <p style="font-size: 1.8rem; font-weight: 700; color: white;">â­ Stars Found: <span id="game1-score">${game1Score}</span></p>
                    </div>
                </div>
            `;
        }

        function clickGame1Cell(cell, index) {
            if (cell === 'â­') {
                document.getElementById('game1-star').textContent = 'â­';
                game1Score++;
                document.getElementById('game1-score').textContent = game1Score;
                showCelebration("You Found the Star! ğŸŒŸ", "ÙˆØ¬Ø¯Øª Ø§Ù„Ù†Ø¬Ù…Ø©!");
                playSound('success');
            } else {
                speak(cell);
                playSound('error');
            }
        }

        function renderVerbGame2() {
            const container = document.getElementById('verb-game-2');
            const emptyIndex = verbGame2Grid.flat().indexOf('');
            
            container.innerHTML = `
                <p style="text-align: center; font-size: 1.4rem; margin-bottom: 20px;">Fill in the missing verb! What verb completes the grid? / Ø§Ù…Ù„Ø£ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù†Ø§Ù‚Øµ!</p>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; max-width: 500px; margin: 0 auto 30px;">
                    ${verbGame2Grid.flat().map((cell, i) => `
                        <div class="picture-card" style="padding: 30px; min-height: 120px; display: flex; align-items: center; justify-content: center; ${cell === '' ? 'border: 4px dashed var(--secondary);' : ''}">
                            ${cell === '' ? 
                                `<div id="game2-empty" style="font-size: 3rem; color: #ccc;">?</div>` :
                                `<div style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">${cell}</div>`
                            }
                        </div>
                    `).join('')}
                </div>
                
                <div style="text-align: center; margin-bottom: 30px;">
                    <p style="font-size: 1.5rem; margin-bottom: 15px;">Choose the missing verb:</p>
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        ${["practiced", "cleaned", "kicked", "cooked"].map(v => `
                            <button class="btn-audio" onclick="tryGame2Answer('${v}')" style="font-size: 1.4rem; padding: 15px 30px;">
                                ${v}
                            </button>
                        `).join('')}
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <div style="background: linear-gradient(135deg, var(--primary), var(--purple)); padding: 20px; border-radius: 20px; display: inline-block;">
                        <p style="font-size: 1.8rem; font-weight: 700; color: white;">ğŸ† Correct Answers: <span id="game2-score">${game2Score}</span></p>
                    </div>
                </div>
            `;
        }

        function tryGame2Answer(answer) {
            // The correct answer looking at the grid pattern would be a verb not already present
            const correct = "practice"; // This is a placeholder - adjust based on actual grid logic
            
            document.getElementById('game2-empty').textContent = answer;
            game2Score++;
            document.getElementById('game2-score').textContent = game2Score;
            showCelebration("Great Choice! ğŸ¯", "Ø§Ø®ØªÙŠØ§Ø± Ø±Ø§Ø¦Ø¹!");
            playSound('success');
        }

        // ==================== LESSON 5 FUNCTIONS ====================

        const ingredients = [
            {item: "flour", emoji: "ğŸŒ¾", need: "?", howMuch: "1 cup / 2 cups", weHave: "YES", dontHave: "NO", ar: "Ø¯Ù‚ÙŠÙ‚"},
            {item: "oil", emoji: "ğŸ›¢ï¸", need: "?", howMuch: "Â½ a cup / 1 cup", weHave: "YES", dontHave: "NO", ar: "Ø²ÙŠØª"},
            {item: "cheese", emoji: "ğŸ§€", need: "?", howMuch: "1 cup / 3 cups", weHave: "YES", dontHave: "NO", ar: "Ø¬Ø¨Ù†"},
            {item: "tomatoes", emoji: "ğŸ…", need: "?", howMuch: "4 / 6", weHave: "YES", dontHave: "NO", ar: "Ø·Ù…Ø§Ø·Ù…"},
            {item: "peppers", emoji: "ğŸ«‘", need: "?", howMuch: "2 / 3", weHave: "YES", dontHave: "NO", ar: "ÙÙ„ÙÙ„"},
            {item: "mushrooms", emoji: "ğŸ„", need: "?", howMuch: "10 / 8", weHave: "YES", dontHave: "NO", ar: "ÙØ·Ø±"}
        ];

        const someAnyExamples = [
            {text: "We have <span class='verb'>some flour</span>, but we don't have <span class='verb'>any oil</span>.", ar: "Ù„Ø¯ÙŠÙ†Ø§ Ø¨Ø¹Ø¶ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ØŒ Ù„ÙƒÙ† Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ†Ø§ Ø£ÙŠ Ø²ÙŠØª"},
            {text: "We <span class='verb'>some tea</span>, but <span class='verb'>don't have any sugar</span>.", ar: "Ù„Ø¯ÙŠÙ†Ø§ Ø¨Ø¹Ø¶ Ø§Ù„Ø´Ø§ÙŠ Ù„ÙƒÙ† Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ†Ø§ Ø£ÙŠ Ø³ÙƒØ±"}
        ];

        function renderIngredientsTable() {
            const container = document.getElementById('ingredients-table');
            container.innerHTML = `
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: linear-gradient(135deg, #4361ee, #7209b7); color: white;">
                                <th style="padding: 20px; font-size: 1.4rem;">WE NEED<br><span style="font-family: 'Tajawal'; font-size: 1.2rem;">Ù†Ø­ØªØ§Ø¬</span></th>
                                <th style="padding: 20px; font-size: 1.4rem;">HOW MUCH / HOW MANY<br><span style="font-family: 'Tajawal'; font-size: 1.2rem;">ÙƒÙ… Ù…Ù‚Ø¯Ø§Ø± / ÙƒÙ… Ø¹Ø¯Ø¯</span></th>
                                <th style="padding: 20px; font-size: 1.4rem;">WE HAVE<br><span style="font-family: 'Tajawal'; font-size: 1.2rem;">Ù„Ø¯ÙŠÙ†Ø§</span></th>
                                <th style="padding: 20px; font-size: 1.4rem;">WE DON'T HAVE<br><span style="font-family: 'Tajawal'; font-size: 1.2rem;">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ†Ø§</span></th>
                                <th style="padding: 20px; font-size: 1.4rem;">ğŸ”Š</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${ingredients.map((ing, i) => `
                                <tr style="background: ${i % 2 === 0 ? '#f8fafc' : 'white'}; border-bottom: 2px solid #e5e7eb;">
                                    <td style="padding: 20px; text-align: center;">
                                        <div style="font-size: 3rem; margin-bottom: 5px;">${ing.emoji}</div>
                                        <div style="font-size: 1.4rem; font-weight: 700; color: var(--dark);">${ing.item}</div>
                                        <div style="font-family: 'Tajawal'; font-size: 1.2rem; color: #666; font-weight: 700;">${ing.ar}</div>
                                    </td>
                                    <td style="padding: 20px; text-align: center; font-size: 1.3rem; font-weight: 600; color: var(--primary);">${ing.howMuch}</td>
                                    <td style="padding: 20px; text-align: center; font-size: 1.3rem; font-weight: 700; color: var(--success);">${ing.weHave}</td>
                                    <td style="padding: 20px; text-align: center; font-size: 1.3rem; font-weight: 700; color: var(--danger);">${ing.dontHave}</td>
                                    <td style="padding: 20px; text-align: center;">
                                        <button class="btn-audio" style="padding: 10px 20px; font-size: 1.5rem;" onclick="speakText('How much ${ing.item} do we need?')">ğŸ”Š</button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        function renderSomeAnyPractice() {
            const container = document.getElementById('some-any-practice');
            container.innerHTML = someAnyExamples.map((ex, i) => `
                <div class="sentence-card" style="margin-bottom: 25px;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <span class="sentence-number">${i+1}</span>
                        <div style="flex: 1;">
                            <p class="sentence-text">${ex.text}</p>
                            <p class="sentence-arabic">${ex.ar}</p>
                        </div>
                    </div>
                    <button class="btn-audio" onclick="speakText('${ex.text.replace(/<[^>]*>/g, '')}')">ğŸ”Š Listen</button>
                </div>
            `).join('');
        }

        // ==================== LESSON 6 FUNCTIONS ====================

        const restaurantMenu = {
            appetizers: [
                {name: "Leek soup", ar: "Ø´ÙˆØ±Ø¨Ø© Ø§Ù„Ø¨ØµÙ„ Ø§Ù„Ø£Ø®Ø¶Ø±"},
                {name: "Blue cheese Ù…Ù‚Ø¨Ù„Ø§Øª", ar: "Ø¬Ø¨Ù†Ø© Ø²Ø±Ù‚Ø§Ø¡"}
            ],
            mainCourses: [
                {name: "Spaghetti with meat sauce", ar: "Ù…Ø¹ÙƒØ±ÙˆÙ†Ø© Ø¨ØµÙ„ØµØ© Ø§Ù„Ù„Ø­Ù…", special: true},
                {name: "Seafood spaghetti", ar: "Ù…Ø¹ÙƒØ±ÙˆÙ†Ø© Ø³ÙŠ ÙÙˆØ¯"}
            ],
            sideDishes: [
                {name: "French fries", ar: "Ø¨Ø·Ø§Ø·Ø³"},
                {name: "Green salad", ar: "Ø³Ù„Ø·Ø© Ø®Ø¶Ø±Ø§Ø¡"}
            ],
            desserts: [
                {name: "Ice cream", ar: "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…"},
                {name: "Fruit salad", ar: "Ø³Ù„Ø·Ø© Ø§Ù„ÙÙˆØ§ÙƒÙ‡"}
            ],
            drinks: [
                {name: "Honey tea", ar: "Ø´Ø§ÙŠ Ø¨Ø§Ù„Ø¹Ø³Ù„"},
                {name: "Green tea", ar: "Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø±"}
            ]
        };

        const orderingDialogue = [
            {person: "waiter", emoji: "ğŸ‘¨â€ğŸ³", q: "What would you like?", qAr: "Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ØŸ"},
            {person: "customer", emoji: "ğŸ˜Š", answer: "I'd like..., please.", answerAr: "Ø£Ø±ÙŠØ¯..., Ù…Ù† ÙØ¶Ù„Ùƒ"},
            {person: "waiter", emoji: "ğŸ‘¨â€ğŸ³", answer: "Sure. Just a moment.", answerAr: "Ø­Ø³Ù†Ø§Ù‹ØŒ Ù„Ø­Ø¸Ø© Ù…Ù† ÙØ¶Ù„Ùƒ"}
        ];

        function renderRestaurantMenu() {
            const container = document.getElementById('restaurant-menu');
            const categories = [
                {title: "APPETIZERS Ø§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª", items: restaurantMenu.appetizers, emoji: "ğŸ¥—"},
                {title: "MAIN COURSES Ø§Ù„Ø·Ø¨Ù‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ", items: restaurantMenu.mainCourses, emoji: "ğŸ"},
                {title: "SIDE DISHES Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©", items: restaurantMenu.sideDishes, emoji: "ğŸŸ"},
                {title: "DESSERTS Ø§Ù„Ø­Ù„Ù‰", items: restaurantMenu.desserts, emoji: "ğŸ¨"},
                {title: "DRINKS Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª", items: restaurantMenu.drinks, emoji: "â˜•"}
            ];

            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px;">
                    ${categories.map(cat => `
                        <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; border: 2px solid rgba(255,255,255,0.3);">
                            <h4 style="font-size: 1.6rem; margin-bottom: 20px; text-align: center; color: #ffeb3b;">
                                ${cat.emoji} ${cat.title}
                            </h4>
                            <div style="display: grid; gap: 15px;">
                                ${cat.items.map(item => `
                                    <div style="background: ${item.special ? 'linear-gradient(135deg, #ffeb3b, #fdd835)' : 'rgba(255,255,255,0.2)'}; 
                                                padding: 15px; border-radius: 15px; ${item.special ? 'border: 3px solid #ff5722; animation: bounce 2s infinite;' : ''}
                                                cursor: pointer; transition: all 0.3s; color: ${item.special ? '#000' : 'white'};"
                                                onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'"
                                                onclick="speakText('${item.name}')">
                                        <div style="font-size: 1.3rem; font-weight: 700; margin-bottom: 5px;">${item.name}</div>
                                        <div style="font-family: 'Tajawal'; font-size: 1.2rem; ${item.special ? 'color: #000;' : 'opacity: 0.9;'} font-weight: 700;">${item.ar}</div>
                                        ${item.special ? '<div style="margin-top: 8px; font-size: 1.1rem; font-weight: 700; color: #d32f2f;">â­ TODAY\'S SPECIAL!</div>' : ''}
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderOrderingConversation() {
            const container = document.getElementById('ordering-conversation');
            container.innerHTML = `
                <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 30px; border-radius: 25px; margin-bottom: 25px;">
                    ${orderingDialogue.map((line, i) => `
                        <div class="sentence-card" style="animation-delay: ${i*0.15}s; border-left-color: ${line.person === 'waiter' ? 'var(--orange)' : 'var(--success)'};">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <span style="font-size: 3rem;">${line.emoji}</span>
                                <div style="flex: 1;">
                                    ${line.q ? `<p style="font-size: 1.6rem; font-weight: 600; color: var(--primary); cursor: pointer;" onclick="speak('${line.q}')"><strong>Q:</strong> ${line.q}</p>
                                               <p style="font-family: 'Tajawal'; font-size: 1.4rem; color: #000; font-weight: 700;">${line.qAr}</p>` : ''}
                                    ${line.answer ? `<p style="font-size: 1.6rem; font-weight: 600; color: var(--success); cursor: pointer;" onclick="speak('${line.answer}')"><strong>A:</strong> ${line.answer}</p>
                                                    <p style="font-family: 'Tajawal'; font-size: 1.4rem; color: #000; font-weight: 700;">${line.answerAr}</p>` : ''}
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button class="btn-audio" onclick="speak('${line.q || line.answer}')">ğŸ”Š Listen</button>
                                <button class="btn-mic" onclick="practicePronunciation('${line.q || line.answer}', ${i})">ğŸ¤ Practice</button>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div style="background: white; padding: 25px; border-radius: 20px; text-align: center;">
                    <p style="font-size: 1.6rem; font-weight: 700; margin-bottom: 20px; color: var(--primary);">
                        ğŸ­ Now practice ordering with a partner! / Ø§Ù„Ø¢Ù† ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¹ Ø²Ù…ÙŠÙ„!
                    </p>
                    <button class="btn-mic" onclick="speakText('Practice ordering food from the menu above!')">ğŸ¤ Start Practice</button>
                </div>
            `;
        }

        // ==================== LESSON 7 FUNCTIONS ====================

        const phonicsSounds = [
            {sound: "nd", emoji: "ğŸ–ï¸", word: "sand", wordAr: "Ø±Ù…Ù„", image: "ğŸï¸"},
            {sound: "nt", emoji: "â›º", word: "tent", wordAr: "Ø®ÙŠÙ…Ø©", image: "ğŸ•ï¸"}
        ];

        const phonicsWords = [
            {word: "ha__", answer: "nd", image: "âœ‹", meaning: "hand / ÙŠØ¯"},
            {word: "sta__", answer: "nd", image: "ğŸ§", meaning: "stand / ÙŠÙ‚Ù"},
            {word: "pai__", answer: "nt", image: "ğŸ¨", meaning: "paint / ÙŠØ¯Ù‡Ù†"},
            {word: "pla__", answer: "nt", image: "ğŸŒ±", meaning: "plant / Ù†Ø¨Ø§Øª"}
        ];

        const chantLines = [
            {text: "There is sand all around,", ar: "Ù‡Ù†Ø§Ùƒ Ø±Ù…Ù„ ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†", emoji: "ğŸ–ï¸"},
            {text: "There's a tent on the land,", ar: "Ù‡Ù†Ø§Ùƒ Ø®ÙŠÙ…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶", emoji: "â›º"},
            {text: "There is sand in my hand.", ar: "Ù‡Ù†Ø§Ùƒ Ø±Ù…Ù„ ÙÙŠ ÙŠØ¯ÙŠ", emoji: "âœ‹"},
            {text: "There's a tent on the sand.", ar: "Ù‡Ù†Ø§Ùƒ Ø®ÙŠÙ…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù…Ù„", emoji: "ğŸ•ï¸"},
            {text: "Golden sand in the sun!", ar: "Ø±Ù…Ù„ Ø°Ù‡Ø¨ÙŠ ØªØ­Øª Ø§Ù„Ø´Ù…Ø³!", emoji: "â˜€ï¸"}
        ];

        function renderPhonicsSounds() {
            const container = document.getElementById('phonics-sounds');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                    ${phonicsSounds.map(s => `
                        <div style="text-align: center; background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 35px; border-radius: 25px; cursor: pointer; transition: all 0.3s;"
                             onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'"
                             onclick="speakText('${s.word}')">
                            <div style="background: white; width: 120px; height: 120px; margin: 0 auto 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                                ${s.emoji}
                            </div>
                            <div style="background: var(--primary); color: white; padding: 15px 30px; border-radius: 20px; font-size: 2.5rem; font-weight: 700; margin-bottom: 15px;">
                                ${s.sound}
                            </div>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary); margin-bottom: 10px;">${s.word}</div>
                            <div style="font-family: 'Tajawal'; font-size: 1.6rem; color: #000; font-weight: 700;">${s.wordAr}</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderPhonicsComplete() {
            const container = document.getElementById('phonics-complete');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 25px;">
                    ${phonicsWords.map((w, i) => `
                        <div style="background: white; padding: 25px; border-radius: 20px; text-align: center; box-shadow: 0 8px 20px rgba(0,0,0,0.1);">
                            <div style="font-size: 4rem; margin-bottom: 15px;">${w.image}</div>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary); margin-bottom: 15px;">
                                ${w.word.replace('__', `<span style="color: var(--danger);">${w.answer}</span>`)}
                            </div>
                            <div style="font-size: 1.3rem; color: #666; margin-bottom: 15px;">${w.meaning}</div>
                            <button class="btn-audio" style="padding: 10px 20px;" onclick="speakText('${w.word.replace('__', w.answer)}')">ğŸ”Š</button>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderPhonicsChant() {
            const container = document.getElementById('phonics-chant');
            container.innerHTML = `
                <div style="background: linear-gradient(135deg, #e0f2f1, #b2dfdb); padding: 40px; border-radius: 25px;">
                    ${chantLines.map((line, i) => `
                        <div class="sentence-card" style="animation-delay: ${i*0.1}s; margin-bottom: 20px;">
                            <div style="display: flex; align-items: center; gap: 20px;">
                                <div style="font-size: 4rem;">${line.emoji}</div>
                                <div style="flex: 1;">
                                    <p style="font-size: 1.8rem; font-weight: 700; color: var(--primary); margin-bottom: 8px;">${line.text}</p>
                                    <p style="font-family: 'Tajawal'; font-size: 1.5rem; color: #000; font-weight: 700;">${line.ar}</p>
                                </div>
                                <button class="btn-audio" style="padding: 12px 25px;" onclick="speakText('${line.text}')">ğŸ”Š</button>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-mic" style="font-size: 2rem; padding: 20px 50px;" onclick="speakText('${chantLines.map(l => l.text).join(' ')}')">
                        ğŸµ Play Full Chant
                    </button>
                </div>
            `;
        }

        // ==================== LESSON 8 FUNCTIONS ====================

        const mallStores = [
            {name: "BILLY GOATS", type: "Suits and Coats", emoji: "ğŸ§¥", ar: "Ø§Ù„Ø¨Ø¯Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ø·Ù", items: ["suits", "coats", "boots"]},
            {name: "BLUE BOW", type: "Shoes", emoji: "ğŸ‘", ar: "Ø§Ù„Ø£Ø­Ø°ÙŠØ©", items: ["shoes", "sandals"]},
            {name: "JUICY FRUITS", type: "Fresh Fruits", emoji: "ğŸŠ", ar: "Ø§Ù„ÙÙˆØ§ÙƒÙ‡ Ø§Ù„Ø·Ø§Ø²Ø¬Ø©", items: ["mangos", "grapefruit", "oranges"]},
            {name: "SNOW GO!", type: "Sports Equipment", emoji: "ğŸ¿", ar: "Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©", items: ["snowboards", "skis"]}
        ];

        const shoppingDialogue = [
            {person: "customer", emoji: "ğŸ˜Š", q: "Can I help you?", qAr: "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ"},
            {person: "staff", emoji: "ğŸ‘”", answer: "Yes, please. Where can I get suits, coats, boots, shoes, sandals, mangos, grapefruit, oranges, snowboards, and skis?", answerAr: "Ù†Ø¹Ù… Ù…Ù† ÙØ¶Ù„Ùƒ. Ø£ÙŠÙ† ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø£Ù† Ø£Ø¬Ø¯ Ø§Ù„Ø¨Ø¯Ù„Ø§ØªØŒ Ø§Ù„Ù…Ø¹Ø§Ø·Ù..."},
            {person: "customer", emoji: "ğŸ˜Š", answer: "Right over there...", answerAr: "Ù‡Ù†Ø§Ùƒ..."}
        ];

        function renderMallStores() {
            const container = document.getElementById('mall-stores');
            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px;">
                    ${mallStores.map((store, i) => `
                        <div style="background: linear-gradient(135deg, ${['#ffeb3b', '#2196f3', '#ff9800', '#00bcd4'][i]}, ${['#fdd835', '#1976d2', '#f57c00', '#0097a7'][i]}); 
                                    padding: 30px; border-radius: 25px; text-align: center; cursor: pointer; transition: all 0.3s; box-shadow: 0 10px 30px rgba(0,0,0,0.2);"
                             onmouseover="this.style.transform='translateY(-10px) rotate(2deg)'" onmouseout="this.style.transform='translateY(0) rotate(0)'"
                             onclick="speakText('${store.name}. ${store.type}')">
                            <div style="font-size: 5rem; margin-bottom: 15px;">${store.emoji}</div>
                            <div style="background: white; padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                                <div style="font-size: 2rem; font-weight: 700; color: ${['#f57f17', '#0d47a1', '#e65100', '#006064'][i]}; margin-bottom: 8px;">
                                    ${store.name}
                                </div>
                                <div style="font-size: 1.4rem; color: #666; margin-bottom: 5px;">${store.type}</div>
                                <div style="font-family: 'Tajawal'; font-size: 1.3rem; color: #000; font-weight: 700;">${store.ar}</div>
                            </div>
                            <div style="display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;">
                                ${store.items.map(item => `
                                    <span style="background: rgba(255,255,255,0.9); padding: 8px 15px; border-radius: 15px; font-size: 1.1rem; font-weight: 600;">
                                        ${item}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderShoppingConversation() {
            const container = document.getElementById('shopping-conversation');
            container.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 25px;">
                    ${shoppingDialogue.map((line, i) => `
                        <div class="sentence-card" style="animation-delay: ${i*0.15}s; border-left-color: ${line.person === 'customer' ? 'var(--purple)' : 'var(--success)'};">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <span style="font-size: 3rem;">${line.emoji}</span>
                                <div style="flex: 1;">
                                    ${line.q ? `<p style="font-size: 1.6rem; font-weight: 600; color: var(--primary); cursor: pointer;" onclick="speak('${line.q}')"><strong>Q:</strong> ${line.q}</p>
                                               <p style="font-family: 'Tajawal'; font-size: 1.4rem; color: #000; font-weight: 700;">${line.qAr}</p>` : ''}
                                    ${line.answer ? `<p style="font-size: 1.6rem; font-weight: 600; color: var(--success); cursor: pointer;" onclick="speak('${line.answer}')"><strong>A:</strong> ${line.answer}</p>
                                                    <p style="font-family: 'Tajawal'; font-size: 1.4rem; color: #000; font-weight: 700;">${line.answerAr}</p>` : ''}
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button class="btn-audio" onclick="speak('${(line.q || line.answer).replace(/'/g, "\\'")}')">ğŸ”Š Listen</button>
                                <button class="btn-mic" onclick="practicePronunciation('${(line.q || line.answer).replace(/'/g, "\\'")}', ${i})">ğŸ¤ Practice</button>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 25px; border-radius: 20px; text-align: center; margin-top: 25px;">
                    <p style="font-size: 1.6rem; font-weight: 700; margin-bottom: 20px; color: var(--purple);">
                        ğŸ­ Practice asking for directions! / ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡Ø§Øª!
                    </p>
                    <button class="btn-mic" onclick="speakText('Can I help you? Where can I get shoes and sandals?')">ğŸ¤ Start Practice</button>
                </div>
            `;
        }
        // ==================== TEST SYSTEM ====================
        
        const lessonTests = {
            lesson1: {
                pre: [
                    {q: "What did you do over the weekend?", qAr: "Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø³Ø¤Ø§Ù„: Ù…Ø§Ø°Ø§ ÙØ¹Ù„Øª ÙÙŠ Ø¹Ø·Ù„Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ", options: ["I cook breakfast", "I cooked breakfast", "I cooking breakfast", "I cooks breakfast"], optionsAr: ["Ø£Ù†Ø§ Ø£Ø·Ø¨Ø® Ø§Ù„ÙØ·ÙˆØ± (Ù…Ø¶Ø§Ø±Ø¹)", "Ø£Ù†Ø§ Ø·Ø¨Ø®Øª Ø§Ù„ÙØ·ÙˆØ± (Ù…Ø§Ø¶ÙŠ ØµØ­ÙŠØ­)", "Ø£Ù†Ø§ Ø£Ø·Ø¨Ø® (ØºÙŠØ± ØµØ­ÙŠØ­)", "Ø£Ù†Ø§ Ø£Ø·Ø¨Ø® (ØºÙŠØ± ØµØ­ÙŠØ­)"], correct: 1},
                    {q: "Meaning of 'kicked a ball'", qAr: "Ù…Ø¹Ù†Ù‰ Ø¹Ø¨Ø§Ø±Ø© 'kicked a ball'", options: ["Ø±Ù…Ù‰ Ø§Ù„ÙƒØ±Ø©", "Ø£Ù…Ø³Ùƒ Ø§Ù„ÙƒØ±Ø©", "Ø±ÙƒÙ„ Ø§Ù„ÙƒØ±Ø©", "Ø¶Ø±Ø¨ Ø§Ù„ÙƒØ±Ø©"], correct: 2},
                    {q: "Choose the correct past tense: play", qAr: "Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¶ÙŠ Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„ÙØ¹Ù„: play", options: ["played", "plaied", "playd", "plyed"], optionsAr: ["Ù„Ø¹Ø¨ (ØµØ­ÙŠØ­)", "ÙƒØªØ§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©", "ÙƒØªØ§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©", "ÙƒØªØ§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©"], correct: 0},
                    {q: "We _____ a big breakfast.", qAr: "Ù†Ø­Ù† _____ ÙØ·ÙˆØ±Ø§Ù‹ ÙƒØ¨ÙŠØ±Ø§Ù‹.", options: ["cook", "cooked", "cooking", "cooks"], optionsAr: ["Ù†Ø·Ø¨Ø®", "Ø·Ø¨Ø®Ù†Ø§ (Ù…Ø§Ø¶ÙŠ)", "Ù†Ø·Ø¨Ø® (Ù…Ø³ØªÙ…Ø±)", "ÙŠØ·Ø¨Ø®"], correct: 1},
                    {q: "Cleaned my room means:", qAr: "Ù…Ø¹Ù†Ù‰ Ø¹Ø¨Ø§Ø±Ø© Cleaned my room:", options: ["Ù†Ø¸ÙØª ØºØ±ÙØªÙŠ", "Ø±ØªØ¨Øª Ø³Ø±ÙŠØ±ÙŠ", "ÙƒÙ†Ø³Øª Ø§Ù„Ø£Ø±Ø¶", "ØºØ³Ù„Øª Ø§Ù„Ù…Ù„Ø§Ø¨Ø³"], correct: 0}
                ],
                post: [
                    {q: "I _____ computer games yesterday.", qAr: "Ø£Ù†Ø§ _____ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø§Ù„Ø¨Ø§Ø±Ø­Ø©.", options: ["play", "playing", "played", "plays"], optionsAr: ["Ø£Ù„Ø¹Ø¨", "Ø£Ù„Ø¹Ø¨ (Ù…Ø³ØªÙ…Ø±)", "Ù„Ø¹Ø¨Øª (Ù…Ø§Ø¶ÙŠ)", "ÙŠÙ„Ø¹Ø¨"], correct: 2},
                    {q: "Did you _____ TV?", qAr: "Ù‡Ù„ _____ Ø§Ù„ØªÙ„ÙØ§Ø²ØŸ (Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ù€ Did ÙŠØªØ¨Ø¹Ù‡ Ø§Ù„ÙØ¹Ù„ Ø¨Ø§Ù„Ù…ØµØ¯Ø±)", options: ["watch", "watched", "watching", "watches"], optionsAr: ["ØªØ´Ø§Ù‡Ø¯ (Ù…ØµØ¯Ø±)", "Ø´Ø§Ù‡Ø¯Øª", "ØªØ´Ø§Ù‡Ø¯", "ÙŠØ´Ø§Ù‡Ø¯"], correct: 0},
                    {q: "What is the past of 'stay'?", qAr: "Ù…Ø§ Ù‡Ùˆ Ù…Ø§Ø¶ÙŠ Ø§Ù„ÙØ¹Ù„ 'stay'ØŸ", options: ["stayed", "staid", "stayd", "steid"], optionsAr: ["Ø¨Ù‚ÙŠ (ØµØ­ÙŠØ­)", "ÙƒØªØ§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©", "ÙƒØªØ§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©", "ÙƒØªØ§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©"], correct: 0},
                    {q: "I studied for a test.", qAr: "Ø£Ù†Ø§ Ø¯Ø±Ø³Øª Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±.", options: ["True", "False"], optionsAr: ["ØµØ­ÙŠØ­ (Ø¬Ù…Ù„Ø© ØµØ­ÙŠØ­Ø©)", "Ø®Ø·Ø£"], correct: 0},
                    {q: "Which word is an activity?", qAr: "Ø£ÙŠ ÙƒÙ„Ù…Ø© ØªØ¹Ø¨Ø± Ø¹Ù† Ù†Ø´Ø§Ø·ØŸ", options: ["Happy", "Cat", "Cleaned", "Blue"], optionsAr: ["Ø³Ø¹ÙŠØ¯ (ØµÙØ©)", "Ù‚Ø·Ø© (Ø§Ø³Ù…)", "Ù†Ø¸Ù (ÙØ¹Ù„/Ù†Ø´Ø§Ø·)", "Ø£Ø²Ø±Ù‚ (Ù„ÙˆÙ†)"], correct: 2}
                ]
            },
            lesson2: {
                pre: [
                    {q: "Meaning of 'Fantastic'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Fantastic'", options: ["Ù…Ù…Ù„", "Ø±Ø§Ø¦Ø¹", "Ù…Ø®ÙŠÙ", "Ø¹Ø§Ø¯ÙŠ"], correct: 1},
                    {q: "When something is boring, you say:", qAr: "Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ø§Ù„Ø´ÙŠØ¡ Ù…Ù…Ù„Ø§Ù‹ØŒ ØªÙ‚ÙˆÙ„:", options: ["That's great!", "That's fantastic!", "That's boring.", "That's okay."], optionsAr: ["Ù‡Ø°Ø§ Ø¹Ø¸ÙŠÙ…!", "Ù‡Ø°Ø§ Ø±Ø§Ø¦Ø¹!", "Ù‡Ø°Ø§ Ù…Ù…Ù„.", "Ù‡Ø°Ø§ Ø¬ÙŠØ¯/Ø­Ø³Ù†."], correct: 2},
                    {q: "Meaning of 'Scary'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Scary'", options: ["Ù…Ø¶Ø­Ùƒ", "Ø¬Ù…ÙŠÙ„", "Ù…Ø®ÙŠÙ", "Ø­Ø²ÙŠÙ†"], correct: 2},
                    {q: "Reaction to: 'I won a big prize!'", qAr: "Ø±Ø¯ ÙØ¹Ù„Ùƒ Ø¹Ù„Ù‰: 'ÙØ²Øª Ø¨Ø¬Ø§Ø¦Ø²Ø© ÙƒØ¨ÙŠØ±Ø©!'", options: ["That's boring.", "That's fantastic!", "That's scary.", "That's bad."], optionsAr: ["Ù‡Ø°Ø§ Ù…Ù…Ù„.", "Ù‡Ø°Ø§ Ø±Ø§Ø¦Ø¹!", "Ù‡Ø°Ø§ Ù…Ø®ÙŠÙ.", "Ù‡Ø°Ø§ Ø³ÙŠØ¡."], correct: 1},
                    {q: "Reaction to: 'I saw a ghost!'", qAr: "Ø±Ø¯ ÙØ¹Ù„Ùƒ Ø¹Ù„Ù‰: 'Ø±Ø£ÙŠØª Ø´Ø¨Ø­Ø§Ù‹!'", options: ["That's okay.", "That's great!", "That's scary!", "That's boring."], optionsAr: ["Ù‡Ø°Ø§ Ø¬ÙŠØ¯.", "Ù‡Ø°Ø§ Ø¹Ø¸ÙŠÙ…!", "Ù‡Ø°Ø§ Ù…Ø®ÙŠÙ!", "Ù‡Ø°Ø§ Ù…Ù…Ù„."], correct: 2}
                ],
                post: [
                    {q: "What do you say if your friend is sick?", qAr: "Ù…Ø§Ø°Ø§ ØªÙ‚ÙˆÙ„ Ø¥Ø°Ø§ ÙƒØ§Ù† ØµØ¯ÙŠÙ‚Ùƒ Ù…Ø±ÙŠØ¶Ø§Ù‹ØŸ", options: ["That's great!", "That's fantastic!", "That's okay.", "That's too bad."], optionsAr: ["Ù‡Ø°Ø§ Ø¹Ø¸ÙŠÙ…!", "Ù‡Ø°Ø§ Ø±Ø§Ø¦Ø¹!", "Ù‡Ø°Ø§ Ø¬ÙŠØ¯.", "Ù‡Ø°Ø§ Ù…Ø¤Ø³Ù/Ø³ÙŠØ¡."], correct: 3},
                    {q: "Meaning of 'Okay'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Okay'", options: ["Ù…Ù‚Ø¨ÙˆÙ„ / Ø­Ø³Ù†", "Ø³ÙŠØ¡ Ø¬Ø¯Ø§Ù‹", "Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹", "Ù…Ø®ÙŠÙ"], correct: 0},
                    {q: "Opposite of 'Boring'", qAr: "Ø¹ÙƒØ³ ÙƒÙ„Ù…Ø© 'Boring' (Ù…Ù…Ù„)", options: ["Sad", "Note", "Fun", "Blue"], optionsAr: ["Ø­Ø²ÙŠÙ†", "Ù…Ù„Ø§Ø­Ø¸Ø©", "Ù…Ù…ØªØ¹", "Ø£Ø²Ø±Ù‚"], correct: 2},
                    {q: "I broke my leg.", qAr: "ÙƒØ³Ø±Øª Ø³Ø§Ù‚ÙŠ.", options: ["That's great!", "That's too bad.", "That's fantastic!", "That's okay."], optionsAr: ["Ù‡Ø°Ø§ Ø¹Ø¸ÙŠÙ…!", "Ù‡Ø°Ø§ Ù…Ø¤Ø³Ù.", "Ù‡Ø°Ø§ Ø±Ø§Ø¦Ø¹!", "Ù‡Ø°Ø§ Ø¬ÙŠØ¯."], correct: 1},
                    {q: "We went to the big park.", qAr: "Ø°Ù‡Ø¨Ù†Ø§ Ù„Ù„Ù…Ù†ØªØ²Ù‡ Ø§Ù„ÙƒØ¨ÙŠØ±.", options: ["That's great!", "That's scary.", "That's boring.", "That's bad."], optionsAr: ["Ù‡Ø°Ø§ Ø¹Ø¸ÙŠÙ…!", "Ù‡Ø°Ø§ Ù…Ø®ÙŠÙ.", "Ù‡Ø°Ø§ Ù…Ù…Ù„.", "Ù‡Ø°Ø§ Ø³ÙŠØ¡."], correct: 0}
                ]
            },
            lesson3: {
                pre: [
                    {q: "Past tense of 'practice'", qAr: "Ù…Ø§Ø¶ÙŠ Ø§Ù„ÙØ¹Ù„ 'practice'", options: ["practicen", "practiced", "practicet", "patriced"], optionsAr: ["Ø®Ø·Ø£", "ØªØ¯Ø±Ø¨ (ØµØ­ÙŠØ­)", "Ø®Ø·Ø£", "Ø®Ø·Ø£"], correct: 1},
                    {q: "Past tense of 'kick'", qAr: "Ù…Ø§Ø¶ÙŠ Ø§Ù„ÙØ¹Ù„ 'kick'", options: ["kicked", "kack", "kicken", "kickt"], optionsAr: ["Ø±ÙƒÙ„ (ØµØ­ÙŠØ­)", "Ø®Ø·Ø£", "Ø®Ø·Ø£", "Ø®Ø·Ø£"], correct: 0},
                    {q: "What sound does 'Cleaned' end with?", qAr: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØµÙˆØª Ø§Ù„Ø°ÙŠ ØªÙ†ØªÙ‡ÙŠ Ø¨Ù‡ ÙƒÙ„Ù…Ø© 'Cleaned'ØŸ", options: ["/t/", "/d/", "/id/", "/z/"], optionsAr: ["ØµÙˆØª Øª", "ØµÙˆØª Ø¯ (ØµØ­ÙŠØ­)", "ØµÙˆØª Ø¥Ø¯", "ØµÙˆØª Ø²"], correct: 1},
                    {q: "What sound does 'Cooked' end with?", qAr: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØµÙˆØª Ø§Ù„Ø°ÙŠ ØªÙ†ØªÙ‡ÙŠ Ø¨Ù‡ ÙƒÙ„Ù…Ø© 'Cooked'ØŸ", options: ["/t/", "/d/", "/id/", "/z/"], optionsAr: ["ØµÙˆØª Øª (ØµØ­ÙŠØ­)", "ØµÙˆØª Ø¯", "ØµÙˆØª Ø¥Ø¯", "ØµÙˆØª Ø²"], correct: 0},
                    {q: "What sound does 'Painted' end with?", qAr: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØµÙˆØª Ø§Ù„Ø°ÙŠ ØªÙ†ØªÙ‡ÙŠ Ø¨Ù‡ ÙƒÙ„Ù…Ø© 'Painted'ØŸ", options: ["/t/", "/d/", "/id/", "/z/"], optionsAr: ["ØµÙˆØª Øª", "ØµÙˆØª Ø¯", "ØµÙˆØª Ø¥Ø¯ (ØµØ­ÙŠØ­)", "ØµÙˆØª Ø²"], correct: 2}
                ],
                post: [
                    {q: "Which word ends with /t/ sound?", qAr: "Ø£ÙŠ ÙƒÙ„Ù…Ø© ØªÙ†ØªÙ‡ÙŠ Ø¨ØµÙˆØª /t/ØŸ", options: ["Played", "Cleaned", "Watched", "Stayed"], optionsAr: ["Ù„Ø¹Ø¨ (Ø¯)", "Ù†Ø¸Ù (Ø¯)", "Ø´Ø§Ù‡Ø¯ (Øª)", "Ø¨Ù‚ÙŠ (Ø¯)"], correct: 2},
                    {q: "Which word ends with /d/ sound?", qAr: "Ø£ÙŠ ÙƒÙ„Ù…Ø© ØªÙ†ØªÙ‡ÙŠ Ø¨ØµÙˆØª /d/ØŸ", options: ["Kicked", "Cooked", "Studied", "Painted"], optionsAr: ["Ø±ÙƒÙ„ (Øª)", "Ø·Ø¨Ø® (Øª)", "Ø¯Ø±Ø³ (Ø¯)", "Ø¯Ù‡Ù† (Ø¥Ø¯)"], correct: 2},
                    {q: "Which word ends with /id/ sound?", qAr: "Ø£ÙŠ ÙƒÙ„Ù…Ø© ØªÙ†ØªÙ‡ÙŠ Ø¨ØµÙˆØª /id/ØŸ", options: ["Walked", "Talked", "Waited", "Liked"], optionsAr: ["Ù…Ø´ÙŠ (Øª)", "ØªØ­Ø¯Ø« (Øª)", "Ø§Ù†ØªØ¸Ø± (Ø¥Ø¯)", "Ø£Ø­Ø¨ (Øª)"], correct: 2},
                    {q: "Past tense of 'study'", qAr: "Ù…Ø§Ø¶ÙŠ Ø§Ù„ÙØ¹Ù„ 'study'", options: ["studyed", "studied", "studyd", "stayed"], optionsAr: ["Ø®Ø·Ø£", "Ø¯Ø±Ø³ (ØµØ­ÙŠØ­)", "Ø®Ø·Ø£", "Ø¨Ù‚ÙŠ"], correct: 1},
                    {q: "He _____ football yesterday.", qAr: "Ù‡Ùˆ _____ ÙƒØ±Ø© Ù‚Ø¯Ù… Ø§Ù„Ø¨Ø§Ø±Ø­Ø©.", options: ["plays", "play", "played", "playing"], optionsAr: ["ÙŠÙ„Ø¹Ø¨", "ÙŠÙ„Ø¹Ø¨", "Ù„Ø¹Ø¨ (Ù…Ø§Ø¶ÙŠ)", "ÙŠÙ„Ø¹Ø¨"], correct: 2}
                ]
            },
            lesson4: {
                pre: [
                    {q: "Did you _____ well?", qAr: "Ù‡Ù„ _____ Ø¬ÙŠØ¯Ø§Ù‹ØŸ (Did ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯Ù‡Ø§ Ø§Ù„Ù…ØµØ¯Ø±)", options: ["sleep", "slept", "sleeping", "sleeps"], optionsAr: ["ØªÙ†Ø§Ù… (Ù…ØµØ¯Ø±)", "Ù†Ù…Øª", "ØªÙ†Ø§Ù…", "ÙŠÙ†Ø§Ù…"], correct: 0},
                    {q: "Yes, I _____.", qAr: "Ù†Ø¹Ù…ØŒ Ø£Ù†Ø§ _____.", options: ["do", "did", "does", "done"], optionsAr: ["Ø£ÙØ¹Ù„", "ÙØ¹Ù„Øª (Ù…Ø§Ø¶ÙŠ)", "ÙŠÙØ¹Ù„", "ØªÙ…"], correct: 1},
                    {q: "Did you beat your partner?", qAr: "Ù‡Ù„ Ù‡Ø²Ù…Øª Ø²Ù…ÙŠÙ„ÙƒØŸ", options: ["Yes, I did.", "Yes, I do.", "Yes, I does.", "Yes, I am."], optionsAr: ["Ù†Ø¹Ù… ÙØ¹Ù„Øª (ØµØ­ÙŠØ­)", "Ø®Ø·Ø£", "Ø®Ø·Ø£", "Ø®Ø·Ø£"], correct: 0},
                    {q: "Meaning of 'Verb Game'", qAr: "Ù…Ø¹Ù†Ù‰ 'Verb Game'", options: ["Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ù…Ø§Ø¡", "Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„", "Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø±ÙˆÙ", "Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù…"], correct: 1},
                    {q: "Lose a turn", qAr: "Ù…Ø¹Ù†Ù‰ 'Lose a turn'", options: ["Win a point", "Lose a turn", "Go back", "Start again"], optionsAr: ["Ø§ÙƒØ³Ø¨ Ù†Ù‚Ø·Ø©", "Ø§Ø®Ø³Ø± Ø¯ÙˆØ±Ø§Ù‹", "Ø¹Ø¯ Ù„Ù„Ø®Ù„Ù", "Ø§Ø¨Ø¯Ø£ Ù…Ø¬Ø¯Ø¯Ø§Ù‹"], correct: 1}
                ],
                post: [
                    {q: "Go back 2 spaces", qAr: "Ù…Ø¹Ù†Ù‰ 'Go back 2 spaces'", options: ["Go forward 2", "Go back 2", "Stay here", "Finish"], optionsAr: ["ØªÙ‚Ø¯Ù… 2", "Ø§Ø±Ø¬Ø¹ 2", "Ø§Ø¨Ù‚ Ù‡Ù†Ø§", "Ù†Ù‡Ø§ÙŠØ©"], correct: 1},
                    {q: "Did they win?", qAr: "Ù‡Ù„ ÙØ§Ø²ÙˆØ§ØŸ", options: ["Yes, they do.", "No, they didn't.", "Yes, they are.", "No, they isn't."], optionsAr: ["Ø®Ø·Ø£", "Ù„Ø§ØŒ Ù„Ù… ÙŠÙÙˆØ²ÙˆØ§ (ØµØ­ÙŠØ­)", "Ø®Ø·Ø£", "Ø®Ø·Ø£"], correct: 1},
                    {q: "Past of 'win'", qAr: "Ù…Ø§Ø¶ÙŠ Ø§Ù„ÙØ¹Ù„ 'win'", options: ["wann", "won", "winned", "wan"], optionsAr: ["Ø®Ø·Ø£", "ÙØ§Ø² (ØµØ­ÙŠØ­)", "Ø®Ø·Ø£", "Ø®Ø·Ø£"], correct: 1},
                    {q: "Past of 'lose'", qAr: "Ù…Ø§Ø¶ÙŠ Ø§Ù„ÙØ¹Ù„ 'lose'", options: ["losed", "lost", "lossed", "last"], optionsAr: ["Ø®Ø·Ø£", "Ø®Ø³Ø± (ØµØ­ÙŠØ­)", "Ø®Ø·Ø£", "Ø§Ù„Ø£Ø®ÙŠØ±"], correct: 1},
                    {q: "I _____ the game!", qAr: "Ø£Ù†Ø§ _____ Ø§Ù„Ù„Ø¹Ø¨Ø©!", options: ["won", "win", "winned", "wins"], optionsAr: ["ÙØ²Øª Ø¨Ù€ (Ù…Ø§Ø¶ÙŠ)", "Ø£ÙÙˆØ²", "Ø®Ø·Ø£", "ÙŠÙÙˆØ²"], correct: 0}
                ]
            },
            lesson5: {
                pre: [
                    {q: "Meaning of 'Flour'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Flour'", options: ["Ø³ÙƒØ±", "Ø¨ÙŠØ¶", "Ø·Ø­ÙŠÙ†", "Ø­Ù„ÙŠØ¨"], correct: 2},
                    {q: "Meaning of 'Oil'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Oil'", options: ["Ù…Ø§Ø¡", "Ø²ÙŠØª", "Ø¹ØµÙŠØ±", "Ø´Ø§ÙŠ"], correct: 1},
                    {q: "Do we need _____ oil?", qAr: "Ù‡Ù„ Ù†Ø­ØªØ§Ø¬ _____ Ø²ÙŠØªØŸ", options: ["some", "any", "a", "an"], optionsAr: ["Ø¨Ø¹Ø¶", "Ø£ÙŠ (Ù„Ù„Ø³Ø¤Ø§Ù„ ÙˆØ§Ù„Ù†ÙÙŠ)", "Ø£Ø¯Ø§Ø© ØªÙ†ÙƒÙŠØ±", "Ø£Ø¯Ø§Ø© ØªÙ†ÙƒÙŠØ±"], correct: 1},
                    {q: "We need _____ eggs.", qAr: "Ù†Ø­Ù† Ù†Ø­ØªØ§Ø¬ _____ Ø¨ÙŠØ¶.", options: ["some", "any", "one", "much"], optionsAr: ["Ø¨Ø¹Ø¶ (Ù„Ù„Ø¥Ø«Ø¨Ø§Øª)", "Ø£ÙŠ", "ÙˆØ§Ø­Ø¯Ø©", "ÙƒØ«ÙŠØ±"], correct: 0},
                    {q: "Salt meaning", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© Salt", options: ["ÙÙ„ÙÙ„", "Ù…Ù„Ø­", "Ø³ÙƒØ±", "ÙƒÙ…ÙˆÙ†"], correct: 1}
                ],
                post: [
                    {q: "We don't have _____ sugar.", qAr: "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ†Ø§ _____ Ø³ÙƒØ±. (Ù†ÙÙŠ)", options: ["some", "any", "many", "a"], optionsAr: ["Ø¨Ø¹Ø¶", "Ø£ÙŠ (Ù„Ù„Ù†ÙÙŠ)", "ÙƒØ«ÙŠØ±", "Ø£Ø¯Ø§Ø© ØªÙ†ÙƒÙŠØ±"], correct: 1},
                    {q: "Do we have _____ milk?", qAr: "Ù‡Ù„ Ù„Ø¯ÙŠÙ†Ø§ _____ Ø­Ù„ÙŠØ¨ØŸ (Ø³Ø¤Ø§Ù„)", options: ["some", "any", "a", "an"], optionsAr: ["Ø¨Ø¹Ø¶", "Ø£ÙŠ (Ù„Ù„Ø³Ø¤Ø§Ù„)", "Ø£Ø¯Ø§Ø© ØªÙ†ÙƒÙŠØ±", "Ø£Ø¯Ø§Ø© ØªÙ†ÙƒÙŠØ±"], correct: 1},
                    {q: "Yes, we have _____ apples.", qAr: "Ù†Ø¹Ù…ØŒ Ù„Ø¯ÙŠÙ†Ø§ _____ ØªÙØ§Ø­. (Ø¥Ø«Ø¨Ø§Øª)", options: ["some", "any", "much", "little"], optionsAr: ["Ø¨Ø¹Ø¶ (ØµØ­ÙŠØ­)", "Ø£ÙŠ", "ÙƒØ«ÙŠØ±", "Ù‚Ù„ÙŠÙ„"], correct: 0},
                    {q: "Meaning of 'Ingredients'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Ingredients'", options: ["Ø£Ø¯ÙˆØ§Øª", "Ù…ÙƒÙˆÙ†Ø§Øª", "Ø·Ø¨Ø®Ø§Øª", "Ø£Ø·Ø¨Ø§Ù‚"], correct: 1},
                    {q: "How _____ flour do we need?", qAr: "ÙƒÙ… _____ Ù…Ù† Ø§Ù„Ø·Ø­ÙŠÙ† Ù†Ø­ØªØ§Ø¬ØŸ (ØºÙŠØ± Ù…Ø¹Ø¯ÙˆØ¯)", options: ["much", "many", "any", "some"], optionsAr: ["ÙƒØ«ÙŠØ± (Ù„ØºÙŠØ± Ø§Ù„Ù…Ø¹Ø¯ÙˆØ¯)", "ÙƒØ«ÙŠØ± (Ù„Ù„Ù…Ø¹Ø¯ÙˆØ¯)", "Ø£ÙŠ", "Ø¨Ø¹Ø¶"], correct: 0}
                ]
            },
            lesson6: {
                pre: [
                    {q: "Meaning of 'Appetizer'", qAr: "Ù…Ø¹Ù†Ù‰ 'Appetizer'", options: ["Ø·Ø¨Ù‚ Ø±Ø¦ÙŠØ³ÙŠ", "Ù…Ù‚Ø¨Ù„Ø§Øª", "Ø­Ù„Ù‰", "Ù…Ø´Ø±ÙˆØ¨"], correct: 1},
                    {q: "Meaning of 'Main Course'", qAr: "Ù…Ø¹Ù†Ù‰ 'Main Course'", options: ["Ù…Ù‚Ø¨Ù„Ø§Øª", "Ø·Ø¨Ù‚ Ø±Ø¦ÙŠØ³ÙŠ", "Ø³Ù„Ø·Ø©", "Ø´ÙˆØ±Ø¨Ø©"], correct: 1},
                    {q: "Example of a dessert:", qAr: "Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ù„Ù‰:", options: ["Soup", "Steak", "Ice Cream", "Salad"], optionsAr: ["Ø­Ø³Ø§Ø¡", "Ø´Ø±ÙŠØ­Ø© Ù„Ø­Ù…", "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…", "Ø³Ù„Ø·Ø©"], correct: 2},
                    {q: "Example of a drink:", qAr: "Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨:", options: ["Cola", "Cake", "Pizza", "Rice"], optionsAr: ["ÙƒÙˆÙ„Ø§", "ÙƒÙŠÙƒ", "Ø¨ÙŠØªØ²Ø§", "Ø£Ø±Ø²"], correct: 0},
                    {q: "I'd like potatoes.", qAr: "Ø£ÙˆØ¯ Ø§Ù„Ø¨Ø·Ø§Ø·Ø³.", options: ["True", "False"], optionsAr: ["ØµØ­ÙŠØ­", "Ø®Ø·Ø£"], correct: 0}
                ],
                post: [
                    {q: "May I take your order?", qAr: "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø£Ø®Ø° Ø·Ù„Ø¨ÙƒØŸ", options: ["Yes, please.", "No, thank you.", "I am full.", "Goodbye."], optionsAr: ["Ù†Ø¹Ù… Ù…Ù† ÙØ¶Ù„Ùƒ.", "Ù„Ø§ Ø´ÙƒØ±Ø§Ù‹.", "Ø£Ù†Ø§ Ø´Ø¨Ø¹Ø§Ù†.", "ÙˆØ¯Ø§Ø¹Ø§Ù‹."], correct: 0},
                    {q: "I would like _____ pizza, please.", qAr: "Ø£ÙˆØ¯ _____ Ø¨ÙŠØªØ²Ø§ Ù…Ù† ÙØ¶Ù„Ùƒ.", options: ["any", "some", "many", "an"], optionsAr: ["Ø£ÙŠ", "Ø¨Ø¹Ø¶", "ÙƒØ«ÙŠØ±", "Ø£Ø¯Ø§Ø© ØªÙ†ÙƒÙŠØ±"], correct: 1},
                    {q: "What would you like to drink?", qAr: "Ù…Ø§Ø°Ø§ ØªÙˆØ¯ Ø£Ù† ØªØ´Ø±Ø¨ØŸ", options: ["Cake", "Pie", "Juice", "Burger"], optionsAr: ["ÙƒÙŠÙƒ", "ÙØ·ÙŠØ±Ø©", "Ø¹ØµÙŠØ±", "Ø¨Ø±Ø¬Ø±"], correct: 2},
                    {q: "Is that all?", qAr: "Ù‡Ù„ Ù‡Ø°Ø§ ÙƒÙ„ Ø´ÙŠØ¡ØŸ", options: ["Yes, that's all.", "No, I am hungry.", "Yes, please.", "No, thanks."], optionsAr: ["Ù†Ø¹Ù…ØŒ Ù‡Ø°Ø§ ÙƒÙ„ Ø´ÙŠØ¡.", "Ù„Ø§ØŒ Ø£Ù†Ø§ Ø¬Ø§Ø¦Ø¹.", "Ù†Ø¹Ù… Ù…Ù† ÙØ¶Ù„Ùƒ.", "Ù„Ø§ Ø´ÙƒØ±Ø§Ù‹."], correct: 0},
                    {q: " waiter means:", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© waiter:", options: ["Ø·Ø¨Ø§Ø®", "Ù†Ø¯Ù„ / Ø¬Ø±Ø³ÙˆÙ†", "Ø²Ø¨ÙˆÙ†", "Ù…Ø¯ÙŠØ±"], correct: 1}
                ]
            },
            lesson7: {
                pre: [
                    {q: "Word ending in -nd", qAr: "ÙƒÙ„Ù…Ø© ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ -nd", options: ["Tent", "Sand", "Went", "Ant"], optionsAr: ["Ø®ÙŠÙ…Ø© (nt)", "Ø±Ù…Ù„ (nd)", "Ø°Ù‡Ø¨ (nt)", "Ù†Ù…Ù„Ø© (nt)"], correct: 1},
                    {q: "Word ending in -nt", qAr: "ÙƒÙ„Ù…Ø© ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ -nt", options: ["Hand", "Stand", "Tent", "Land"], optionsAr: ["ÙŠØ¯ (nd)", "ÙŠÙ‚Ù (nd)", "Ø®ÙŠÙ…Ø© (nt)", "Ø£Ø±Ø¶ (nd)"], correct: 2},
                    {q: "Meaning of 'Tent'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Tent'", options: ["Ù…Ù†Ø²Ù„", "Ø®ÙŠÙ…Ø©", "Ø´Ù‚Ø©", "ØºØ±ÙØ©"], correct: 1},
                    {q: "Meaning of 'Hand'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Hand'", options: ["Ø±Ø£Ø³", "ÙŠØ¯", "Ù‚Ø¯Ù…", "Ø¹ÙŠÙ†"], correct: 1},
                    {q: "Sand is usually...", qAr: "Ø§Ù„Ø±Ù…Ù„ Ø¹Ø§Ø¯Ø© ÙŠÙƒÙˆÙ† Ù„ÙˆÙ†Ù‡...", options: ["Green", "Blue", "Yellow/Golden", "Purple"], optionsAr: ["Ø£Ø®Ø¶Ø±", "Ø£Ø²Ø±Ù‚", "Ø£ØµÙØ±/Ø°Ù‡Ø¨ÙŠ", "Ø¨Ù†ÙØ³Ø¬ÙŠ"], correct: 2}
                ],
                post: [
                    {q: "Complete: The _____ is on the sand.", qAr: "Ø£ÙƒÙ…Ù„: _____ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù…Ù„.", options: ["tint", "tent", "tant", "tunt"], optionsAr: ["Ø®Ø·Ø£", "Ø®ÙŠÙ…Ø©", "Ø®Ø·Ø£", "Ø®Ø·Ø£"], correct: 1},
                    {q: "Complete: I have sand in my _____.", qAr: "Ø£ÙƒÙ…Ù„: Ù„Ø¯ÙŠ Ø±Ù…Ù„ ÙÙŠ _____.", options: ["hant", "hand", "hend", "hind"], optionsAr: ["Ø®Ø·Ø£", "ÙŠØ¯ÙŠ (hand)", "Ø®Ø·Ø£", "Ø®Ø·Ø£"], correct: 1},
                    {q: "Paint ends with...", qAr: "ÙƒÙ„Ù…Ø© Paint ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€...", options: ["nd", "nt", "ng", "nk"], optionsAr: ["nd (Ù† Ø¯)", "nt (Ù† Øª)", "ng", "nk"], correct: 1},
                    {q: "Stand ends with...", qAr: "ÙƒÙ„Ù…Ø© Stand ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€...", options: ["nd", "nt", "ng", "nk"], optionsAr: ["nd (Ù† Ø¯)", "nt", "ng", "nk"], correct: 0},
                    {q: "Plant means:", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© Plant:", options: ["ÙŠØ²Ø±Ø¹ / Ù†Ø¨Ø§Øª", "ÙŠÙ„Ø¹Ø¨", "ÙŠÙ†Ø§Ù…", "ÙŠØ£ÙƒÙ„"], correct: 0}
                ]
            },
            lesson8: {
                pre: [
                    {q: "Meaning of 'Suit'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Suit'", options: ["Ø­Ø°Ø§Ø¡", "Ø¨Ø¯Ù„Ø©", "Ù‚Ù…ÙŠØµ", "Ø¨Ù†Ø·Ø§Ù„"], correct: 1},
                    {q: "Meaning of 'Coat'", qAr: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Coat'", options: ["Ù‚Ø¨Ø¹Ø©", "Ù…Ø¹Ø·Ù", "Ø¬ÙˆØ§Ø±Ø¨", "Ù‚ÙØ§Ø²Ø§Øª"], correct: 1},
                    {q: "You buy apples at:", qAr: "ØªØ´ØªØ±ÙŠ Ø§Ù„ØªÙØ§Ø­ Ù…Ù†:", options: ["Shoe store", "Fruit store", "Sports store", "Clothes store"], optionsAr: ["Ù…Ø­Ù„ Ø§Ù„Ø£Ø­Ø°ÙŠØ©", "Ù…Ø­Ù„ Ø§Ù„ÙÙˆØ§ÙƒÙ‡", "Ù…Ø­Ù„ Ø§Ù„Ø±ÙŠØ§Ø¶Ø©", "Ù…Ø­Ù„ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³"], correct: 1},
                    {q: "You buy skis at:", qAr: "ØªØ´ØªØ±ÙŠ Ø§Ù„Ø²Ù„Ø§Ø¬Ø§Øª Ù…Ù†:", options: ["Snow Go", "Juicy Fruits", "Blue Bow", "Billy Goats"], optionsAr: ["Ø³Ù†Ùˆ Ø¬Ùˆ (Ø±ÙŠØ§Ø¶Ø©)", "Ø¬ÙˆØ³ÙŠ ÙØ±ÙˆØªØ³", "Ø¨Ù„Ùˆ Ø¨Ùˆ", "Ø¨ÙŠÙ„ÙŠ Ø¬ÙˆØªØ³"], correct: 0},
                    {q: "Can I help you?", qAr: "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ", options: ["Yes, please.", "No, go away.", "I don't know.", "Maybe."], optionsAr: ["Ù†Ø¹Ù… Ù…Ù† ÙØ¶Ù„Ùƒ.", "Ù„Ø§ Ø§Ø°Ù‡Ø¨ Ø¨Ø¹ÙŠØ¯Ø§Ù‹.", "Ù„Ø§ Ø£Ø¹Ø±Ù.", "Ø±Ø¨Ù…Ø§."], correct: 0}
                ],
                post: [
                    {q: "Where can I get sandals?", qAr: "Ø£ÙŠÙ† ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØµÙ†Ø§Ø¯Ù„ØŸ", options: ["Fruit store", "Shoe store", "Pet store", "Toy store"], optionsAr: ["Ù…Ø­Ù„ ÙÙˆØ§ÙƒÙ‡", "Ù…Ø­Ù„ Ø£Ø­Ø°ÙŠØ©", "Ù…Ø­Ù„ Ø­ÙŠÙˆØ§Ù†Ø§Øª", "Ù…Ø­Ù„ Ø£Ù„Ø¹Ø§Ø¨"], correct: 1},
                    {q: "Boots are for...", qAr: "Ø§Ù„Ø£Ø­Ø°ÙŠØ© Ø§Ù„Ø·ÙˆÙŠÙ„Ø© (Boots) Ù„Ù€...", options: ["Hands", "Head", "Feet", "Ears"], optionsAr: ["Ø§Ù„ÙŠØ¯ÙŠÙ†", "Ø§Ù„Ø±Ø£Ø³", "Ø§Ù„Ù‚Ø¯Ù…ÙŠÙ†", "Ø§Ù„Ø£Ø°Ù†ÙŠÙ†"], correct: 2},
                    {q: "Mango is a...", qAr: "Ø§Ù„Ù…Ø§Ù†Ø¬Ùˆ ÙŠØ¹ØªØ¨Ø±...", options: ["Vegetable", "Fruit", "Meat", "Drink"], optionsAr: ["Ø®Ø¶Ø§Ø±", "ÙØ§ÙƒÙ‡Ø©", "Ù„Ø­Ù…", "Ù…Ø´Ø±ÙˆØ¨"], correct: 1},
                    {q: "Snowboard is for...", qAr: "Ù„ÙˆØ­ Ø§Ù„ØªØ²Ù„Ø¬ ÙŠØ³ØªØ®Ø¯Ù… Ù„Ù€...", options: ["Swimming", "Sleeping", "Snow sports", "Running"], optionsAr: ["Ø§Ù„Ø³Ø¨Ø§Ø­Ø©", "Ø§Ù„Ù†ÙˆÙ…", "Ø§Ù„Ø±ÙŠØ§Ø¶Ø§Øª Ø§Ù„Ø«Ù„Ø¬ÙŠØ©", "Ø§Ù„Ø¬Ø±ÙŠ"], correct: 2},
                    {q: "I want to buy a coat.", qAr: "Ø£Ø±ÙŠØ¯ Ø´Ø±Ø§Ø¡ Ù…Ø¹Ø·Ù. Ø£ÙŠÙ† Ø£Ø°Ù‡Ø¨ØŸ", options: ["Billy Goats", "Juicy Fruits", "Snow Go", "Blue Bow"], optionsAr: ["Ø¨ÙŠÙ„ÙŠ Ø¬ÙˆØªØ³ (Ù…Ù„Ø§Ø¨Ø³)", "Ø¬ÙˆØ³ÙŠ ÙØ±ÙˆØªØ³", "Ø³Ù†Ùˆ Ø¬Ùˆ", "Ø¨Ù„Ùˆ Ø¨Ùˆ"], correct: 0}
                ]
            }
        };

        // Test System Variables
        let currentTest = null;
        let currentTestType = null; // 'pre' or 'post'
        let currentLessonId = null;
        let testScore = 0;
        let currentTestQuestionIndex = 0;

        function updateTestButtons(lessonNum) {
            const container = document.getElementById('test-buttons-container');
            
            // 1. Update Top Buttons
            if (container) {
                const lessonKey = `lesson${lessonNum}`;
                if (lessonTests[lessonKey]) {
                    container.innerHTML = `
                        <button class="btn-test pre-test" onclick="startTest('${lessonKey}', 'pre')">
                            <i class="fas fa-clipboard-list"></i> Pre-Test / Ø§Ø®ØªØ¨Ø§Ø± Ù‚Ø¨Ù„ÙŠ
                        </button>
                        <button class="btn-test post-test" onclick="startTest('${lessonKey}', 'post')">
                            <i class="fas fa-check-circle"></i> Post-Test / Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø¹Ø¯ÙŠ
                        </button>
                    `;
                    container.style.display = 'flex';
                } else {
                    container.style.display = 'none';
                }
            }

            // 2. Update Bottom Post-Test Button
            // Remove existing footer buttons first to avoid duplicates
            document.querySelectorAll('.lesson-footer-btn').forEach(el => el.remove());

            const lessonContent = document.getElementById(`lesson${lessonNum}`);
            if (lessonContent && lessonTests[`lesson${lessonNum}`]) {
                 const footerDiv = document.createElement('div');
                 footerDiv.className = 'lesson-footer-btn';
                 footerDiv.style.textAlign = 'center';
                 footerDiv.style.marginTop = '40px';
                 footerDiv.style.marginBottom = '20px';
                 footerDiv.style.padding = '20px';
                 footerDiv.innerHTML = `
                    <div style="width: 100%; height: 2px; background: rgba(0,0,0,0.1); margin-bottom: 30px;"></div>
                    <p style="font-size: 1.5rem; color: var(--primary); margin-bottom: 15px; font-weight: bold;">
                        ğŸ‰ Finished the lesson? Take the test!
                        <br>
                        <span style="font-family: 'Tajawal'; color: #666;">Ù‡Ù„ Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ø¯Ø±Ø³ØŸ Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ!</span>
                    </p>
                    <button class="btn-test post-test" onclick="startTest('lesson${lessonNum}', 'post')" style="animation: pulse 2s infinite; font-size: 1.8rem; padding: 20px 50px;">
                        <i class="fas fa-star"></i> Post-Test / Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø¹Ø¯ÙŠ
                    </button>
                 `;
                 lessonContent.appendChild(footerDiv);
            }
        }

        // Override the existing switchLesson function
        window.switchLesson = function(num) {
            // Hide all lessons
            document.querySelectorAll('.lesson-content').forEach(l => l.classList.remove('active'));
            document.querySelectorAll('.lesson-tab').forEach(t => t.classList.remove('active'));
            
            // Show selected lesson
            const content = document.getElementById(`lesson${num}`);
            if (content) content.classList.add('active');
            
            const tab = document.querySelector(`.lesson${num}`);
            if (tab) tab.classList.add('active');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Update Test Buttons (Top & Bottom)
            updateTestButtons(num);
            
            // Play sound
            playSound('success');
        };

        // Initialize buttons for Lesson 1 on load
        document.addEventListener('DOMContentLoaded', () => {
            updateTestButtons(1);
        });

        function startTest(lessonId, type) {
            currentLessonId = lessonId;
            currentTestType = type;
            currentTest = lessonTests[lessonId][type];
            testScore = 0;
            currentTestQuestionIndex = 0;
            
            if (!currentTest) {
                alert("Test coming soon!");
                return;
            }

            const modal = document.getElementById('test-modal');
            modal.classList.add('show');
            renderQuestion();
        }

        function renderQuestion() {
            const container = document.getElementById('test-container');
            const question = currentTest[currentTestQuestionIndex];
            const progress = ((currentTestQuestionIndex) / currentTest.length) * 100;
            
            // Fallback if optionsAr is missing
            const optionsAr = question.optionsAr || question.options.map(() => "");

            container.innerHTML = `
                <div class="test-header">
                    <div class="test-title">
                        ${currentTestType === 'pre' ? 'Pre-Test' : 'Post-Test'}
                    </div>
                    <div class="test-subtitle">
                        Question ${currentTestQuestionIndex + 1} of ${currentTest.length}
                    </div>
                    <div class="test-progress">
                        <div class="test-progress-bar" style="width: ${progress}%"></div>
                    </div>
                </div>
                
                <div class="test-question animate__animated animate__fadeIn">
                    <div class="question-number">${currentTestQuestionIndex + 1}</div>
                    <div class="question-text">${question.q}</div>
                    <div class="question-arabic">${question.qAr}</div>
                    
                    <button class="btn-audio" style="font-size: 1.2rem; padding: 8px 15px;" onclick="speakText('${question.q}')">
                        ğŸ”Š Listen
                    </button>
                    
                    <div class="test-options">
                        ${question.options.map((opt, i) => `
                            <div class="test-option" onclick="selectTestOption(${i})">
                                <div class="option-letter">${String.fromCharCode(65 + i)}</div>
                                <div style="flex: 1;">
                                    <div class="option-text">${opt}</div>
                                    ${optionsAr[i] ? `<div class="option-ar">${optionsAr[i]}</div>` : ''}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="test-buttons">
                    <button class="btn-close-test" onclick="closeTest()">Exit</button>
                </div>
            `;
        }

        function selectTestOption(selectedIndex) {
            const question = currentTest[currentTestQuestionIndex];
            const options = document.querySelectorAll('.test-option');
            const isCorrect = selectedIndex === question.correct;
            
            // Disable all options
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            // Highlight selected
            if (isCorrect) {
                options[selectedIndex].classList.add('correct');
                testScore++;
                playSound('success');
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[question.correct].classList.add('correct'); // Show correct answer
                playSound('error');
            }
            
            // Show Next button
            const btnContainer = document.querySelector('.test-buttons');
            btnContainer.innerHTML = `
                <button class="btn-next" onclick="nextQuestion()">
                    ${currentTestQuestionIndex < currentTest.length - 1 ? 'Next Question â¡ï¸' : 'Finish Test ğŸ†'}
                </button>
            `;
        }

        function nextQuestion() {
            currentTestQuestionIndex++;
            if (currentTestQuestionIndex < currentTest.length) {
                renderQuestion();
            } else {
                finishTest();
            }
        }

        function finishTest() {
            const container = document.getElementById('test-container');
            const percentage = (testScore / currentTest.length) * 100;
            let message = "";
            let emoji = "";
            let color = "var(--primary)";
            
            if (percentage === 100) {
                message = "PERFECT! Full Marks!";
                emoji = "ğŸ†ğŸ‰";
                color = "#00c853";
                showCelebration("Perfect!", "Ù…Ù…ØªØ§Ø²! Ø¯Ø±Ø¬Ø© ÙƒØ§Ù…Ù„Ø©!");
                createBalloons(); // Balloons Effect
            } else if (percentage >= 80) {
                message = "Great Job! You are amazing!";
                emoji = "ğŸŒŸ";
                color = "#2979ff";
            } else if (percentage >= 60) {
                message = "Good Effort! Keep going!";
                emoji = "ğŸ‘";
                color = "#ff9100";
            } else {
                message = "Practice more and try again!";
                emoji = "ğŸ’ª";
                color = "#ff1744";
            }
            
            container.innerHTML = `
                <div class="test-results animate__animated animate__zoomIn">
                    <div style="font-size: 6rem; margin-bottom: 20px;">${emoji}</div>
                    <div class="results-message" style="color: ${color}; font-size: 2.5rem;">${message}</div>
                    
                    <div class="results-score" style="font-size: 4rem; color: ${color};">${testScore} / ${currentTest.length}</div>
                    
                    <div class="results-details">
                        <div class="results-stat">
                            <span class="stat-label">Percentage:</span>
                            <span class="stat-value" style="color: ${color}">${percentage}%</span>
                        </div>
                    </div>
                    
                    <div class="test-buttons">
                        <button class="btn-submit" onclick="closeTest()">
                            Close & Continue
                        </button>
                        <button class="btn-close-test" onclick="startTest('${currentLessonId}', '${currentTestType}')">
                            Try Again ğŸ”„
                        </button>
                    </div>
                </div>
            `;
        }

        function closeTest() {
            document.getElementById('test-modal').classList.remove('show');
            // Remove balloons if any
            document.querySelectorAll('.balloon').forEach(b => b.remove());
        }

        function showCelebration(textEn, textAr) {
            const overlay = document.getElementById('celebration');
            overlay.querySelector('.celebration-text').textContent = textEn;
            overlay.querySelector('.celebration-arabic').textContent = textAr;
            overlay.classList.add('show');
            
            playSound('success');
            
            // Auto hide after 3 seconds
            setTimeout(() => {
                hideCelebration();
            }, 3000);
        }
        
        function hideCelebration() {
            document.getElementById('celebration').classList.remove('show');
        }

        function createBalloons() {
            const colors = ['#ff6b6b', '#4ecdc4', '#ffe66d', '#ff9f43', '#54a0ff', '#ff9ff3', '#feca57'];
            for (let i = 0; i < 40; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                balloon.style.left = Math.random() * 95 + 'vw';
                balloon.style.animationDuration = (Math.random() * 3 + 3) + 's'; // 3-6s
                balloon.style.background = colors[Math.floor(Math.random() * colors.length)];
                // Random size
                const size = Math.random() * 30 + 40; // 40-70px
                balloon.style.width = size + 'px';
                balloon.style.height = (size * 1.2) + 'px';
                
                document.body.appendChild(balloon);
                
                // Remove after animation
                setTimeout(() => {
                    balloon.remove();
                }, 6000);
            }
        }

        // Add speakText helper function if not already present or to ensure it uses our settings
        window.speakText = function(text) {
             window.speak(text);
        };

    </script>

    <!-- Test Modal -->
    <div class="test-modal" id="test-modal">
        <div class="test-container" id="test-container">
            <!-- Test content will be populated here -->
        </div>
    </div>

    <!-- Celebration Overlay -->
    <div class="celebration" id="celebration" onclick="hideCelebration()">
        <div class="celebration-content">
            <div class="celebration-emoji">ğŸ‰</div>
            <div class="celebration-text">Great Job!</div>
            <div class="celebration-arabic">Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹!</div>
        </div>
    </div>
    <script>
        // ==================== SENTENCE ORDERING GAME ====================
        
         const sentenceOrderData = [
            { id: 1, words: ["I", "cleaned", "my", "room"], ar: "Ø£Ù†Ø§ Ù†Ø¸ÙØª ØºØ±ÙØªÙŠ" },
            { id: 2, words: ["We", "cooked", "a", "big", "breakfast"], ar: "Ù†Ø­Ù† Ø·Ø¨Ø®Ù†Ø§ ÙØ·ÙˆØ±Ø§Ù‹ ÙƒØ¨ÙŠØ±Ø§Ù‹" },
            { id: 3, words: ["He", "kicked", "a", "ball"], ar: "Ù‡Ùˆ Ø±ÙƒÙ„ ÙƒØ±Ø©" },
            { id: 4, words: ["They", "played", "computer", "games"], ar: "Ù‡Ù… Ù„Ø¹Ø¨ÙˆØ§ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±" }
        ];

        function renderSentenceOrderingGame() {
            const container = document.getElementById('sentence-order-game');
            if (!container) return;

            container.innerHTML = sentenceOrderData.map((s, i) => `
                <div class="sentence-card" id="game-card-${i}" style="margin-bottom: 25px;">
                    <p style="font-family: 'Tajawal'; font-size: 1.4rem; color: #666; font-weight: 700; margin-bottom: 15px; text-align: center;">
                        ${s.ar}
                    </p>
                    
                    <!-- Sentence Building Area -->
                    <div id="build-zone-${i}" class="build-zone" style="min-height: 60px; border: 2px dashed var(--primary); border-radius: 15px; background: #f0f4f8; display: flex; flex-wrap: wrap; gap: 10px; padding: 15px; justify-content: center; margin-bottom: 15px; cursor: pointer;" onclick="returnWord(${i}, event)">
                    </div>

                    <!-- Word Bank -->
                    <div id="word-bank-${i}" class="word-bank" style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                        ${shuffleArray([...s.words]).map((word, wIndex) => `
                            <button class="word-btn" onclick="moveWord(${i}, this, '${word}')" 
                                    style="background: white; padding: 10px 20px; border-radius: 15px; border: 2px solid #ccc; font-weight: 600; font-size: 1.2rem; cursor: pointer;">
                                ${word}
                            </button>
                        `).join('')}
                    </div>

                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn-submit" style="font-size: 1.2rem; padding: 8px 20px;" onclick="checkSentenceOrder(${i})">Check âœ…</button>
                    </div>
                     <div id="feedback-order-${i}" style="text-align: center; margin-top: 10px; font-weight: 700; font-size: 1.4rem;"></div>
                </div>
            `).join('');
        }

        // Helper for shuffle (if not already defined)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function moveWord(gameIndex, btn, word) {
            const buildZone = document.getElementById(`build-zone-${gameIndex}`);
            // Clone button to build zone
            const newBtn = btn.cloneNode(true);
            newBtn.onclick = function() { removeWord(gameIndex, this, btn); };
            newBtn.style.background = "var(--primary)";
            newBtn.style.color = "white";
            newBtn.style.border = "none";
            newBtn.dataset.word = word; // Store word for checking
            buildZone.appendChild(newBtn);
            
            // Hide original
            btn.style.visibility = "hidden";
            playSound('success'); 
        }

        function removeWord(gameIndex, btn, originalBtn) {
            btn.remove();
            originalBtn.style.visibility = "visible";
            playSound('success');
        }
        
        function checkSentenceOrder(index) {
            const zone = document.getElementById(`build-zone-${index}`);
            const items = zone.querySelectorAll('.word-btn');
            const words = Array.from(items).map(item => item.dataset.word);
            const correctWords = sentenceOrderData[index].words;
            const feedback = document.getElementById(`feedback-order-${index}`);

            if (JSON.stringify(words) === JSON.stringify(correctWords)) {
                feedback.textContent = "Correct! ğŸ‰";
                feedback.style.color = "var(--success)";
                playSound('success');
                speakText(correctWords.join(' '));
                
                // Visual celebration
                zone.style.borderColor = "var(--success)";
                zone.style.background = "#e8f5e9";
                
                // Disable interaction
                const bank = document.getElementById(`word-bank-${index}`);
                bank.style.pointerEvents = "none";
                items.forEach(i => i.onclick = null);
                
            } else {
                feedback.textContent = "Try again! âŒ";
                feedback.style.color = "var(--danger)";
                playSound('error');
                
                zone.style.borderColor = "var(--danger)";
                setTimeout(() => {
                     zone.style.borderColor = "var(--primary)";
                }, 1000);
            }
        }
        
        // Initialize game
        document.addEventListener('DOMContentLoaded', function() {
             renderSentenceOrderingGame();
        });
    </script>
</body>
</html>
